import{a as k}from"./axios-D8rVyQy1.js";import{u as V}from"./@tanstack-CrM5e4XN.js";import{t as E,s as b}from"./element-plus-CbVk0LQ5.js";import{r as m,w as q,S as p,o as s,T as w,c as x,Q as S,ai as B,u as d}from"./@vue-R74GAGRy.js";const K={__name:"SelectEmployee",props:{modelValue:{type:Number,default:null},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:i}){const f=i,u=n,c=m({q:""}),l=m(u.modelValue);q(()=>u.modelValue,e=>{l.value=e,g()});const y=async({queryKey:e})=>{const[o,r]=e,t=await k.get("/employee",{params:r});return c.value.page=t.data.page,t.data},{data:v,isLoading:_,isError:C,error:D,refetch:g}=V({queryKey:["selectEmployee",c.value],queryFn:y,keepPreviousData:!0}),h=e=>{l.value=e,f("update:modelValue",e)};return(e,o)=>{const r=E,t=b;return s(),p(t,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=a=>l.value=a),"value-key":"id",class:"w-100",filterable:"",clearable:"",remote:"",onChange:h,autocomplete:"off",placeholder:n.placeholder,loading:d(_)},{default:w(()=>[(s(!0),x(S,null,B(d(v),a=>(s(),p(r,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","loading"])}}};export{K as _};
