const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/General-0yjtLBh6.js","assets/@vue-R74GAGRy.js","assets/dayjs-9DF7GWnL.js","assets/element-plus-CbVk0LQ5.js","assets/@popperjs-D_chPuIy.js","assets/@element-plus-BklxBE5D.js","assets/lodash-es-D7WVGOfI.js","assets/async-validator-9PlIezaS.js","assets/normalize-wheel-es-BQoi3Ox2.js","assets/@ctrl-r5W6hzzQ.js","assets/axios-D8rVyQy1.js","assets/vue-i18n-ZNZ64Gzf.js","assets/@intlify-ChVUvfmF.js","assets/pinia-AHalXmfd.js","assets/vue-router-LsEmCaCE.js","assets/js-cookie-Cz0CWeBA.js","assets/@iconify-B_FrOzP8.js","assets/@casl-B-uYYHKL.js","assets/@ucast-BiZkLRnB.js","assets/@vueuse-B1uMN4GC.js","assets/chart.js-B8s4pPcf.js","assets/vue-advanced-cropper-Cc488Mck.js","assets/vue-advanced-cropper-D2JBOGWk.css","assets/@tanstack-CrM5e4XN.js","assets/vue3-blocks-tree-BH4O2Ayn.js","assets/vue-BaDTWQb3.js","assets/@unhead-Br2qtGVU.js","assets/unhead-DeLy1NBI.js","assets/hookable-B8xFkYCm.js","assets/Email-BZ216f0Y.js","assets/Index-D3cTFtLp.js","assets/lodash-BJPsjdUP.js","assets/SkeletonTable-cI7fZmbF.js","assets/Form-C0-DX31I.js","assets/SelectEmployee-BidxO5ve.js","assets/Index-DOf3O8jb.js","assets/Form-C7mAr8wK.js","assets/Department-A7WfK2d_.js","assets/SelectDepartment-D6c4b6uE.js","assets/JobPosition-D0PU4X7k.js","assets/Grade-Dlc9Yg2X.js","assets/Expertise-DcCIJOfB.js","assets/Additional-D861RvVx.js","assets/Attachment-Ds4jBlR9.js","assets/Index-LSvfaqA_.js","assets/SelectJobPosition-BGWSHewF.js","assets/Form-DPH2FEL-.js","assets/Show-CqaKxuZx.js","assets/Forbidden-DRsOHUHc.js","assets/NotFound-HId0WqC7.js"])))=>i.map(i=>d[i]);
import{a as I}from"./axios-D8rVyQy1.js";import{f as z,al as j,c as E,o as h,Q as K,ai as ne,R as F,aa as R,S as C,P as T,X as b,V as a,u as x,T as i,r as y,w as be,q as M,a as n,J as ie,W as Q,U as ye,_ as J,Z as Ce,Y as pe,aw as Pe}from"./@vue-R74GAGRy.js";import{d as we,c as Be}from"./pinia-AHalXmfd.js";import{u as le,a as ke,R as Re,c as Te,b as ze}from"./vue-router-LsEmCaCE.js";import{a as G}from"./js-cookie-Cz0CWeBA.js";import{I as B}from"./@iconify-B_FrOzP8.js";import{u as N,c as Se}from"./vue-i18n-ZNZ64Gzf.js";import{A as Ie,u as re,l as Oe}from"./@casl-B-uYYHKL.js";import{E as je,a as Me,b as Fe,c as Ue,d as qe,e as He,v as Y,f as U,g as X,h as Z,i as $e,j as Ee,k as ee,l as We,m as ce,n as de,o as ue,p as H,q as Ne,r as Ge}from"./element-plus-CbVk0LQ5.js";import{u as Je,a as Ye,b as xe}from"./@vueuse-B1uMN4GC.js";import{C as se,B as Xe,a as Ze,L as Ke,b as Qe,p as Le,c as Ve,D as et,A as tt}from"./chart.js-B8s4pPcf.js";import{f as st}from"./vue-advanced-cropper-Cc488Mck.js";import{d as te}from"./dayjs-9DF7GWnL.js";import{V as at}from"./@tanstack-CrM5e4XN.js";import{V as ot}from"./vue3-blocks-tree-BH4O2Ayn.js";import{c as nt}from"./@unhead-Br2qtGVU.js";import"./@intlify-ChVUvfmF.js";import"./@ucast-BiZkLRnB.js";import"./@popperjs-D_chPuIy.js";import"./@element-plus-BklxBE5D.js";import"./lodash-es-D7WVGOfI.js";import"./async-validator-9PlIezaS.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@ctrl-r5W6hzzQ.js";import"./vue-BaDTWQb3.js";import"./unhead-DeLy1NBI.js";import"./hookable-B8xFkYCm.js";window.axios=I;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const it={main:[{name:"base.dashboard",to:"/dashboard",icon:"fluent:home-24-regular"},{name:"base.employee",to:"/employee",icon:"fluent:people-24-regular",permission:"employee.view"},{name:"base.setting",icon:"solar:settings-linear",subActivePaths:"/settings/",sub:[{name:"base.system",to:"/settings/system",permission:""},{name:"base.user",to:"/settings/user",permission:"user.view"},{name:"base.role_permission",to:"/settings/permission",permission:"role.view"},{name:"base.department",to:"/settings/department",permission:"department.view"},{name:"base.job_position",to:"/settings/job-position",permission:"job_position.view"},{name:"base.grade",to:"/settings/grade",permission:"grade.view"},{name:"base.expertise",to:"/settings/expertise",permission:"expertise.view"}]}]},{locale:Ea,locales:xa}=window.config,_e={getWindowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},getCurrentYear(){return new Date().getFullYear()}},ge="APP",q=we({id:"appBase",state:()=>({initialized:!1,loading:!1,app:{app_name:"",date_format:"",time_format:"",timezone:"",logo_light:null,logo_dark:null,locale:null,locales:[],currency:null},layout:{header:!0,sidebar:!0,sideOverlay:!0,footer:!0},settings:{colorTheme:"",sidebarLeft:!0,sidebarMini:!1,sidebarDark:!0,sidebarVisibleDesktop:!0,sidebarVisibleMobile:!1,sideOverlayVisible:!1,sideOverlayHoverable:!1,pageOverlay:!0,headerFixed:!0,headerDark:!1,headerSearch:!1,headerLoader:!1,pageLoader:!1,rtlSupport:!1,sideTransitions:!0,mainContent:""}}),getters:{isInitialized(e){return e.app.app_name!==""&&e.initialized},locales:e=>e.app.locales,locale:e=>e.app.locale},actions:{async initApp(){this.loading=!0;const e=G.get(ge);e?(this.app=JSON.parse(e),this.initialized=!0):(await this.fetchSettings(),this.initialized=!0),this.loading=!1},async fetchSettings(){try{const e=await I.get("/base");this.app=e.data,this.saveSettingsToCookie()}catch(e){console.error("Failed to load settings from API:",e)}},async reinitApp(){this.initialized=!1,G.remove("APP"),await this.fetchSettings()},saveSettingsToCookie(){G.set(ge,JSON.stringify(this.app),{expires:7})},setLocale(e){this.app.locale=e},setLayout(e){state.layout.header=e.header,state.layout.sidebar=e.sidebar,state.layout.sideOverlay=e.sideOverlay,state.layout.footer=e.footer},sidebar(e){_e.getWindowWidth()>991?e==="open"?this.settings.sidebarVisibleDesktop=!0:e==="close"?this.settings.sidebarVisibleDesktop=!1:e==="toggle"&&(this.settings.sidebarVisibleDesktop=!this.settings.sidebarVisibleDesktop):e==="open"?this.settings.sidebarVisibleMobile=!0:e==="close"?this.settings.sidebarVisibleMobile=!1:e==="toggle"&&(this.settings.sidebarVisibleMobile=!this.settings.sidebarVisibleMobile)},sidebarMini(e){_e.getWindowWidth()>991&&(e==="on"?this.settings.sidebarMini=!0:e==="off"?this.settings.sidebarMini=!1:e==="toggle"&&(this.settings.sidebarMini=!this.settings.sidebarMini))},sidebarPosition(e){e==="left"?this.settings.sidebarLeft=!0:e==="right"?this.settings.sidebarLeft=!1:e==="toggle"&&(this.settings.sidebarLeft=!this.settings.sidebarLeft)},sidebarStyle(e,t){t.mode==="dark"?e.settings.sidebarDark=!0:t.mode==="light"?e.settings.sidebarDark=!1:t.mode==="toggle"&&(e.settings.sidebarDark=!e.settings.sidebarDark)},pageLoader(e,t){t.mode==="on"?e.settings.pageLoader=!0:t.mode==="off"?e.settings.pageLoader=!1:t.mode==="toggle"&&(e.settings.pageLoader=!e.settings.pageLoader)},mainContent(e,t){t.mode==="full"?e.settings.mainContent="":t.mode==="boxed"?e.settings.mainContent="boxed":t.mode==="narrow"&&(e.settings.mainContent="narrow")},async updateApp(){}}}),lt=["event","onClick"],rt={key:0,class:"menu-main-link-icon"},ct={key:1,class:"menu-main-link-text"},dt={key:0,class:"menu-main-link-icon"},ut={key:1,class:"menu-main-link-text"},mt={__name:"BaseNavigation",props:{nodes:{type:Array,description:"The nodes of the navigation"},subMenu:{type:Boolean,default:!1,description:"If true, a submenu will be rendered"},dark:{type:Boolean,default:!1,description:"Dark mode for menu"},horizontal:{type:Boolean,default:!1,description:"Horizontal menu in large screen width"},horizontalHover:{type:Boolean,default:!1,description:"Hover mode for horizontal menu"},horizontalCenter:{type:Boolean,default:!1,description:"Center mode for horizontal menu"},horizontalJustify:{type:Boolean,default:!1,description:"Justify mode for horizontal menu"}},setup(e){le();const t=ke(),s=q(),o=e,r=c=>t.path===c||t.fullPath.startsWith(c),l=z(()=>({"menu-main":!o.subMenu,"menu-main-submenu":o.subMenu,"menu-main-dark":o.dark,"menu-main-horizontal":o.horizontal,"menu-main-hover":o.horizontalHover,"menu-main-horizontal-center":o.horizontalCenter,"menu-main-horizontal-justify":o.horizontalJustify})),m=c=>(Array.isArray(c)?c:[c]).some(u=>t.path.startsWith(u)),d=(c,p)=>{let u=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(p){let g=c.target.closest("li");u>991&&o.horizontal&&o.horizontalHover||(g.classList.contains("open")?g.classList.remove("open"):(Array.from(g.closest("ul").children).forEach(f=>{f.classList.remove("open")}),g.classList.add("open")))}else u<992&&s.sidebar("close")};return(c,p)=>{const u=j("router-link"),g=j("base-navigation",!0);return h(),E("ul",{class:F(l.value)},[(h(!0),E(K,null,ne(e.nodes,(_,f)=>(h(),E("li",{key:`node-${f}`,class:F({"menu-main-heading":_.heading,"menu-main-item":!_.heading,open:_.sub&&_.subActivePaths?m(_.subActivePaths):!1,active:!!(_.to&&r(_.to))})},[R(b(_.heading?_.name:"")+" ",1),_.sub?(h(),E(K,{key:0},[_.heading?T("",!0):(h(),E("a",{key:0,href:"#",class:F(["menu-main-link",_.sub?"submenu":""]),event:_.sub?"":"click",onClick:w=>d(w,_.sub)},[_.icon?(h(),E("span",rt,[a(x(B),{icon:_.icon},null,8,["icon"])])):T("",!0),_.name?(h(),E("span",ct,b(c.$t(_.name,2)),1)):T("",!0),_.badge?(h(),E("span",{key:2,class:F(["menu-main-link-badge badge badge-pill badge-primary",_["badge-variant"]?`badge-${_["badge-variant"]}`:"badge-primary"])},b(_.badge),3)):T("",!0)],10,lt))],64)):(h(),E(K,{key:1},[_.heading?T("",!0):(h(),C(u,{key:0,to:_.to?_.to:"#",class:F([_.sub?"submenu":"","menu-main-link"]),event:_.sub?"":"click",onClick:w=>d(w,_.sub)},{default:i(()=>[_.icon?(h(),E("span",dt,[a(x(B),{icon:_.icon},null,8,["icon"])])):T("",!0),_.name?(h(),E("span",ut,b(c.$t(_.name,2)),1)):T("",!0),_.badge?(h(),E("span",{key:2,class:F(["menu-main-link-badge badge badge-pill badge-primary",_["badge-variant"]?`badge-${_["badge-variant"]}`:"badge-primary"])},b(_.badge),3)):T("",!0)]),_:2},1032,["to","class","event","onClick"]))],64)),_.sub?(h(),C(g,{key:2,nodes:_.sub,"sub-menu":""},null,8,["nodes"])):T("",!0)],2))),128))],2)}}},Ae=new Ie([]),pt=e=>{const t=e.map(s=>{const[o,r]=s.split(".");return{action:r,subject:o}});Ae.update(t)},W=we({id:"auth",state:()=>({user:null,token:G.get("token")||null,permissions:[]}),getters:{isLoggedIn:e=>!!e.token,userData:e=>e.user,permissionData:e=>e.permissions},actions:{async getUser(){try{const{data:e}=await I.get("/profile");this.updateUser(e),this.setPermissions(e.permissions)}catch(e){e.status==401&&(this.user=null,this.token=null,this.permissions=[],this.$reset(),G.remove("token"),delete I.defaults.headers.common.Authorization,window.location.href="/login"),console.error("Failed to fetch user data:",e)}},setPermissions(e){this.permissions=e,pt(e)},updateUser(e){var t,s;this.user={id:e.id,name:e.name,email:e.email,employee_id:e.employee_id,image:e.image,image_url:e.image_url,role:((s=(t=e.roles)==null?void 0:t[0])==null?void 0:s.name)||null}},updateToken(e){this.token=e,G.set("token",e),I.defaults.headers.common.Authorization=`Bearer ${e}`},async login({email:e,password:t}){try{const{data:s}=await I.post("/login",{email:e,password:t});this.updateUser(s.result.user),this.setPermissions(s.result.permissions),this.updateToken(s.result.access_token)}catch(s){throw console.log("Login Error",s),s}},async forgotPassword({email:e}){try{await I.post("/forgot-password",{email:e})}catch(t){throw console.error("Forgot password error:",t),t}},async logout(){try{await I.post("/logout")}catch{console.warn("Logout request failed, clearing session anyway.")}this.user=null,this.token=null,this.permissions=[],this.$reset(),G.remove("token"),delete I.defaults.headers.common.Authorization,window.location.href="/login"}}}),_t={id:"page-sidebar"},gt={class:"sidebar-content justify-end"},ht={class:"logo-light"},ft=["src"],vt=["src"],bt={class:"logo-dark"},yt=["src"],wt=["src"],kt={__name:"BaseSidebar",setup(e){const{can:t}=re(),s=W(),o=z(()=>s.permissionData),r=z(()=>it.main),l=q(),{t:m}=N(),d=z(()=>l.app),c=y([]);function p(u){return u.filter(g=>{if(g.sub)return g.sub=p(g.sub),g.sub.length>0;if(!g.permission)return!0;const[_,f]=g.permission.split(".");return t(f,_)})}return be(o,u=>{u&&u.length>0&&(c.value=p(r.value))},{immediate:!0}),M(()=>{o.value&&o.value.length>0&&(c.value=p(r.value))}),z(()=>l.settings.sidebarMini),(u,g)=>{const _=j("router-link"),f=je;return h(),E("div",_t,[n("div",gt,[a(_,{to:"/dashboard",class:"logo"},{default:i(()=>[n("div",ht,[n("img",{src:d.value.logo_dark,class:"logo-lg h-10 smini-hidden",alt:"Light logo"},null,8,ft),n("img",{src:d.value.logo_dark_sm,class:"logo-sm smini-visible",alt:"Small logo"},null,8,vt)]),n("div",bt,[n("img",{src:d.value.logo_light,class:"logo-lg h-10 smini-hidden",alt:"Dark logo"},null,8,yt),n("img",{src:d.value.logo_light_sm,class:"logo-sm smini-visible",alt:"Small logo"},null,8,wt)])]),_:1}),a(f,{class:"md:h-[550px] p-4"},{default:i(()=>[a(mt,{nodes:c.value},null,8,["nodes"])]),_:1})])])}}},he={__name:"LayoutModifier",props:{tag:{type:String,default:"button",description:"The HTML tag of the component (button, a)"},size:{type:String,description:"Button size (sm, lg)"},variant:{type:String,default:"primary",description:"Button variant (primary, alt-primary, outline-primary, secondary, alt-secondary, outline-secondary, light, alt-light, outline-light, dark, alt-dark, outline-dark, danger, alt-danger, outline-danger, info, alt-info, outline-info, success, alt-success, outline-success, warning, alt-warning, outline-warning, dual)"},action:{type:String,description:"Specify the layout modifier mode to apply on click"}},setup(e){const t=e,s=q(),o={sidebarOpen:()=>s.sidebar("open"),sidebarClose:()=>s.sidebar("close"),sidebarToggle:()=>s.sidebar("toggle"),sidebarMiniOn:()=>s.sidebarMini("on"),sidebarMiniOff:()=>s.sidebarMini("off"),sidebarMiniToggle:()=>s.sidebarMini("toggle")},r=()=>{t.action&&o[t.action]&&o[t.action]()};return(l,m)=>(h(),C(ye(e.tag),{type:e.tag==="button"?"button":!1,href:e.tag==="a"?"#":!1,onClick:Q(r,["prevent"])},{default:i(()=>[ie(l.$slots,"default")]),_:3},8,["type","href"]))}},ae=(e,t)=>{const s=e.__vccOpts||e;for(const[o,r]of t)s[o]=r;return s},$t={class:"flex items-center justify-center h-6 w-6"},Et={class:"flex items-center justify-center h-6 w-6"},xt={class:"relative"},Lt={"data-fc-type":"dropdown","data-fc-placement":"bottom-end",type:"button",class:"p-2 fc-dropdown"},Vt={class:"flex items-center justify-center h-6 w-6"},At={class:"align-middle"},Dt={class:"relative"},Ct={"data-fc-type":"dropdown","data-fc-placement":"bottom-end",type:"button"},Pt={class:"flex align-middle"},Bt=["src"],Rt={class:"ml-2 text-left my-auto"},Tt={class:"text-sm"},zt={__name:"BaseHeader",setup(e){const{t,locale:s}=N({useScope:"global"}),o=le(),r=q(),l=W(),m=Je(),d=z(()=>r.app),c=z(()=>W().user);Ye(m),z(()=>m.value?"solar:sun-linear":"solar:moon-linear");const p=async g=>{s.value=g,r.setLocale(g)},u=async()=>{await l.logout(),o.replace("/")};return(g,_)=>{const f=Ue,w=Fe,A=Me,D=j("router-link"),P=qe;return h(),C(P,{id:"page-header",class:"flex items-center px-4 gap-3"},{default:i(()=>[a(he,{tag:"button",id:"button-toggle-menu-desktop",action:"sidebarMiniToggle",class:"hidden lg:flex nav-link p-2 me-auto"},{default:i(()=>[n("span",$t,[a(x(B),{icon:"fluent:line-horizontal-3-20-filled",class:"text-2xl"})])]),_:1}),a(he,{tag:"button",id:"button-toggle-menu-mobile",action:"sidebarToggle",class:"flex lg:hidden p-2 nav-link"},{default:i(()=>[n("span",Et,[a(x(B),{icon:"fluent:line-horizontal-3-20-filled",class:"text-2xl"})])]),_:1}),n("div",xt,[a(A,{trigger:"click",onCommand:p},{dropdown:i(()=>[a(w,null,{default:i(()=>[(h(!0),E(K,null,ne(d.value.locales,(O,v)=>(h(),C(f,{key:v,command:O.language,class:"flex items-center gap-2.5 py-2 px-3"},{default:i(()=>[a(x(B),{icon:`circle-flags:lang-${O.language}`,class:"h-4 w-6"},null,8,["icon"]),n("span",At,b(O.name),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:i(()=>[n("button",Lt,[n("span",Vt,[a(x(B),{icon:`circle-flags:lang-${x(s)}`,class:"text-2xl"},null,8,["icon"])])])]),_:1})]),n("div",Dt,[c.value?(h(),C(A,{key:0,trigger:"click"},{dropdown:i(()=>[a(w,{class:"w-44 p-2 rounded-md"},{default:i(()=>[a(f,{class:"rounded"},{default:i(()=>[a(D,{to:"/profile",class:"flex align-middle"},{default:i(()=>[a(x(B),{icon:"hugeicons:user-square",class:"me-3.5 w-5",width:"24",height:"24"}),n("div",null,b(g.$t("common.profile")),1)]),_:1})]),_:1}),a(f,{class:"rounded"},{default:i(()=>[a(D,{to:"/profile/password",class:"flex align-middle"},{default:i(()=>[a(x(B),{icon:"hugeicons:lock-password",class:"me-3.5 w-5",width:"24",height:"24"}),n("div",null,b(g.$t("common.password")),1)]),_:1})]),_:1}),a(f,{onClick:Q(u,["prevent"]),class:"rounded flex align-middle"},{default:i(()=>[a(x(B),{icon:"hugeicons:logout-03",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(g.$t("common.logout")),1)]),_:1})]),_:1})]),default:i(()=>[n("button",Ct,[n("div",Pt,[n("img",{src:c.value.image_url,alt:"user-image",class:"rounded-md h-8"},null,8,Bt),n("div",Rt,[n("div",null,b(c.value.name),1),n("div",Tt,b(c.value.email),1)])])])]),_:1})):T("",!0)])]),_:1})}}},St=ae(zt,[["__scopeId","data-v-cb2bef58"]]),It={name:"BaseLayout",components:{BaseSidebar:kt,BaseHeader:St},data(){return{appBase:q()}},computed:{classContainer(){return{"sidebar-r":this.appBase.layout.sidebar&&!this.appBase.settings.sidebarLeft,"sidebar-mini":this.appBase.layout.sidebar&&this.appBase.settings.sidebarMini,"sidebar-o":this.appBase.layout.sidebar&&this.appBase.settings.sidebarVisibleDesktop,"sidebar-o-xs":this.appBase.layout.sidebar&&this.appBase.settings.sidebarVisibleMobile,"sidebar-dark":this.appBase.layout.sidebar&&this.appBase.settings.sidebarDark,"side-overlay-o":this.appBase.layout.sideOverlay&&this.appBase.settings.sideOverlayVisible,"side-overlay-hover":this.appBase.layout.sideOverlay&&this.appBase.settings.sideOverlayHoverable,"enable-page-overlay":this.appBase.layout.sideOverlay&&this.appBase.settings.pageOverlay,"page-header-fixed":this.appBase.layout.header&&this.appBase.settings.headerFixed,"page-header-dark":this.appBase.layout.header&&this.appBase.settings.headerDark,"main-content-boxed":this.appBase.settings.mainContent==="boxed","main-content-narrow":this.appBase.settings.mainContent==="narrow","rtl-support":this.appBase.settings.rtlSupport,"side-trans-enabled":this.appBase.settings.sideTransitions,"side-scroll":!0}}}},Ot={id:"page-container"};function jt(e,t,s,o,r,l){const m=j("base-sidebar"),d=j("base-header");return h(),E("div",{id:"page-wrapper",class:F(l.classContainer)},[a(m),a(d),n("main",Ot,[ie(e.$slots,"default")])],2)}const fe=ae(It,[["render",jt]]),Mt={},Ft={class:"dark:from-gray-700 dark:via-gray-900 dark:to-black"},Ut={class:"h-screen w-screen flex justify-center items-center"};function qt(e,t){return h(),E("div",Ft,[n("div",Ut,[ie(e.$slots,"default")])])}const Ht=ae(Mt,[["render",qt]]),Wt={key:0,class:"loading-screen"},Nt={__name:"App",setup(e){const t=q(),s=ke(),o=z(()=>new Map([["BaseLayout",fe],["GuestLayout",Ht]]).get(`${s.meta.layout||"Base"}Layout`)||fe);M(async()=>{localStorage.setItem("vueuse-color-scheme","light"),document.documentElement.classList.remove("dark"),t.isInitialized||t.initApp()});const r=z(()=>t.loading);return(l,m)=>{const d=He;return r.value?(h(),E("div",Wt,m[0]||(m[0]=[n("div",{class:"spinner"},null,-1),n("p",null,"Loading, please wait...",-1)]))):(h(),C(d,{key:1},{default:i(()=>[x(s)?(h(),C(ye(o.value),{key:0},{default:i(()=>[a(x(Re))]),_:1})):T("",!0)]),_:1}))}}},Gt=ae(Nt,[["__scopeId","data-v-db5f206f"]]),Jt="modulepreload",Yt=function(e){return"/build/"+e},ve={},$=function(t,s,o){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),d=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));r=Promise.allSettled(s.map(c=>{if(c=Yt(c),c in ve)return;ve[c]=!0;const p=c.endsWith(".css"),u=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":Jt,p||(g.as="script"),g.crossOrigin="",g.href=c,d&&g.setAttribute("nonce",d),document.head.appendChild(g),p)return new Promise((_,f)=>{g.addEventListener("load",_),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(m){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=m,window.dispatchEvent(d),!d.defaultPrevented)throw m}return r.then(m=>{for(const d of m||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},Xt=async(e,t,s)=>{const o=W(),{can:r}=re(),m=["login","register","forgot-password"].includes(e.name);if(!o.isLoggedIn)if(m){s();return}else{s({name:"login"});return}if(o.isLoggedIn&&m){s({name:"dashboard",query:{"redirect-reason":"already logged"}});return}if(!o.user)try{await o.getUser()}catch(d){console.error("Failed to fetch user data:",d),await o.logout(),s({name:"login"});return}if(e.meta.permission){const[d,c]=e.meta.permission.split(".");if(!r(c,d)){s({name:"forbidden"});return}}s()};function oe(){const e=q(),t=y(""),s=z(()=>t.value?`${t.value} | ${e.app.app_name}`:e.app.app_name);xe(s);function o(r){t.value=r}return{setTitle:o}}const Zt={class:"card-header"},Kt={__name:"EmployeeDeptChart",setup(e){se.register(Xe,Ze,Ke,Qe,Le,Ve);const t=y(null),s=y(!1),o={labels:[],datasets:[{label:"Jumlah Karyawan",backgroundColor:"#42b983",data:[]}]},r={responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{grid:{display:!0},ticks:{backdropPadding:30}}}};async function l(){s.value=!0;try{const d=(await axios.get("/employee-stats/department")).data;o.labels=d.map(c=>c.department),o.datasets[0].data=d.map(c=>c.total)}catch(m){console.error("Gagal mengambil data statistik karyawan:",m)}s.value=!1}return M(async()=>{await l(),new se(t.value,{type:"bar",data:o,options:r})}),(m,d)=>{const c=U,p=Y;return J((h(),C(c,{class:"shadow-sm sm:rounded-lg","body-class":"p-2"},{header:i(()=>[n("div",Zt,[n("span",null,b(m.$t("employee.employee_by_dept")),1)])]),default:i(()=>[n("canvas",{ref_key:"chartCanvas",ref:t,class:"!h-[280px]"},null,512)]),_:1})),[[p,s.value]])}}},Qt={class:"card-header"},es={class:"p-2 flex-fill border-r border-b"},ts={class:"text-sm mb-0"},ss={class:"text-lg"},as={__name:"EmployeeStatusChart",setup(e){se.register(et,tt,Le,Ve);const{t}=N(),s=y(null),o=y(!1),r=y([]),l={labels:[],datasets:[{label:"Jumlah Karyawan",backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"],data:[]}]},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"},tooltip:{enabled:!0}}};async function d(){o.value=!0;try{const p=(await axios.get("/employee-stats/status")).data;r.value=p,l.labels=p.filter(u=>u.status!=="Undefined").map(u=>t(`employee.${u.status}`)),l.datasets[0].data=p.map(u=>u.total)}catch(c){console.error("Gagal mengambil data statistik karyawan:",c)}o.value=!1}return M(async()=>{await d(),new se(s.value,{type:"doughnut",data:l,options:m})}),(c,p)=>{const u=Z,g=X,_=U,f=Y;return J((h(),C(_,{class:"shadow-sm sm:rounded-lg","body-class":"p-0"},{header:i(()=>[n("div",Qt,[n("span",null,b(c.$t("employee.employee_by_status")),1)])]),default:i(()=>[a(g,{gutter:20},{default:i(()=>[a(u,{md:12},{default:i(()=>[n("canvas",{ref_key:"chartCanvas",ref:s,class:"!h-[190px] p-2"},null,512)]),_:1}),a(u,{md:12},{default:i(()=>[a(g,{class:"border-l"},{default:i(()=>[(h(!0),E(K,null,ne(r.value,(w,A)=>(h(),C(u,{md:12,key:A},{default:i(()=>[n("div",es,[n("div",ts,[R(b(w.status==="Undefined"?w.status:c.$t(`employee.${w.status}`))+" ",1),p[0]||(p[0]=n("span",{class:"text-gray-9"},"(48%)",-1))]),n("h2",ss,b(w.total),1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})),[[f,o.value]])}}},os={class:"flex justify-center"},ns={__name:"DepartmentTree",setup(e){const t=y(!1),s=y({name:"PT Pakarti Tirtoagung",id:0,children:[]}),o=async()=>{t.value=!0;try{const r=await axios.get("/settings/department",{params:{tree:!0}});s.value.children=r.data}catch(r){console.error("Gagal mengambil data statistik karyawan:",r)}t.value=!1};return M(async()=>{await o()}),(r,l)=>{const m=j("blocks-tree"),d=U,c=Y;return J((h(),C(d,{class:"shadow-sm sm:rounded-lg","body-class":"p-2"},{header:i(()=>[R(b(r.$t("employee.org_structure")),1)]),default:i(()=>[n("div",os,[a(m,{data:s.value,horizontal:!1,collapsable:!1,props:{label:"name",children:"children",key:"id"}},null,8,["data"])])]),_:1})),[[c,t.value]])}}},is={class:"content"},ls={class:"content-header"},rs={class:"mt-auto mb-0"},cs={class:"text-lg font-semibold"},ds={__name:"Dashboard",setup(e){const{t}=N(),{setTitle:s}=oe(),{can:o}=re();return M(()=>{s(t("base.dashboard"))}),(r,l)=>{const m=Z,d=X;return h(),E("div",is,[n("div",ls,[n("div",rs,[n("div",cs,b(r.$t("base.dashboard",2)),1)]),l[0]||(l[0]=n("div",{class:"mt-auto mb-0"},null,-1))]),a(d,{gutter:20},{default:i(()=>[x(o)("department_stats","dashboard")?(h(),C(m,{key:0,md:24},{default:i(()=>[a(Kt,{class:"mb-5"})]),_:1})):T("",!0),x(o)("status_stats","dashboard")?(h(),C(m,{key:1,md:24},{default:i(()=>[a(as,{class:"mb-5"})]),_:1})):T("",!0),a(m,{md:24},{default:i(()=>[a(ns,{class:"mb-5"})]),_:1})]),_:1})])}}},us={class:"content"},ms={class:"content-header"},ps={class:"content-title"},_s={class:"md:flex hidden items-center gap-2.5 text-sm font-semibold"},gs={class:"space-y-2"},hs={__name:"Index",setup(e){const t=y(""),s=W(),o=z(()=>s.user),r=l=>{t.value=l};return(l,m)=>{const d=Ee,c=$e,p=j("router-link"),u=U,g=Z,_=j("router-view"),f=X;return h(),E("div",us,[n("div",ms,[n("h2",ps,b(t.value),1),n("div",_s,[a(c,{separator:"/"},{default:i(()=>[a(d,{to:{path:"/"}},{default:i(()=>[R(b(l.$t("base.dashboard")),1)]),_:1}),a(d,null,{default:i(()=>[R(b(l.$t("base.profile")),1)]),_:1})]),_:1})])]),a(f,{gutter:20},{default:i(()=>[a(g,{lg:5},{default:i(()=>[a(u,{class:"shadow-sm sm:rounded-lg","body-class":"p-2"},{default:i(()=>[n("div",gs,[a(p,{to:"/profile",exactActiveClass:"text-gray-500 bg-slate-100",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300"},{default:i(()=>[a(x(B),{icon:"hugeicons:user-square",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(l.$t("common.profile")),1)]),_:1}),a(p,{to:"/profile/password",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300",exactActiveClass:"text-gray-500 bg-slate-100"},{default:i(()=>[a(x(B),{icon:"hugeicons:lock-password",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(l.$t("common.password")),1)]),_:1}),a(p,{to:"/profile/devices",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300",exactActiveClass:"text-gray-500 bg-slate-100"},{default:i(()=>[a(x(B),{icon:"hugeicons:computer-phone-sync",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(l.$t("common.device",2)),1)]),_:1}),o.value.employee_id?(h(),C(p,{key:0,to:"/profile/additional",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300",exactActiveClass:"text-gray-500 bg-slate-100"},{default:i(()=>[a(x(B),{icon:"hugeicons:node-add",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(l.$t("employee.additional_data")),1)]),_:1})):T("",!0)])]),_:1})]),_:1}),a(g,{lg:19},{default:i(()=>[a(_,{onChildinit:r})]),_:1})]),_:1})])}}},fs={class:"twitter-navigation"},vs={class:"twitter-navigation__wrapper"},bs={class:"twitter-navigation__line"},ys={__name:"CropperNavigate",props:{zoom:{type:Number,default:0}},emits:["change"],setup(e,{emit:t}){const s=y(!1),o=y(null),r=t;function l(c){if(s.value){const p=c.touches?c.touches[0].clientX:c.clientX,{left:u,width:g}=o.value.getBoundingClientRect();r("change",Math.min(1,Math.max(0,(p-u)/g))),c.preventDefault&&c.preventDefault()}}function m(){s.value=!1}function d(c){s.value=!0,l(c)}return M(()=>{window.addEventListener("mouseup",m,{passive:!1}),window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1}),window.addEventListener("touchend",m,{passive:!1})}),Ce(()=>{window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("touchend",m)}),(c,p)=>(h(),E("div",fs,[n("div",vs,[p[0]||(p[0]=n("div",{class:"twitter-navigation__zoom-icon twitter-navigation__zoom-icon--left"},[n("svg",{viewBox:"0 0 24 24",class:"icon-class"},[n("g",null,[n("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"}),n("path",{d:"M14.46 11.75H7.54c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h6.92c.415 0 .75.336.75.75s-.335.75-.75.75z"})])])],-1)),n("div",{class:"twitter-navigation__line-wrapper",ref_key:"line",ref:o,onMousedown:d,onTouchstart:d},[n("div",bs,[n("div",{class:"twitter-navigation__fill",style:pe({flexGrow:e.zoom})},null,4),n("div",{class:F(["twitter-navigation__circle",{"twitter-navigation__circle--focus":s.value}]),style:pe({left:`${e.zoom*100}%`})},[n("div",{class:F(["twitter-navigation__inner-circle",{"twitter-navigation__inner-circle--focus":s.value}])},null,2)],6)])],544),p[1]||(p[1]=n("div",{class:"twitter-navigation__zoom-icon twitter-navigation__zoom-icon--right"},[n("svg",{viewBox:"0 0 24 24",class:"icon-class"},[n("g",null,[n("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"}),n("path",{d:"M15.21 11c0 .41-.34.75-.75.75h-2.71v2.71c0 .41-.34.75-.75.75s-.75-.34-.75-.75v-2.71H7.54c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h2.71V7.54c0-.41.34-.75.75-.75s.75.34.75.75v2.71h2.71c.41 0 .75.34.75.75z"})])])],-1))])]))}},ws={key:0,class:"img-upload__wrapper"},ks=["src"],$s={class:"img-upload__actions"},Es={key:1,class:"img-upload__wrapper"},xs={class:"img-upload__wrapper__input"},Ls={class:"dialog-footer"},Vs={__name:"ImageUpload",props:{size:{type:String,default:""},ratio:{type:String,default:"1/1"},cropper:{type:Boolean,default:!0},modelValue:{type:[String,File]}},emits:["update:modelValue","deleted"],setup(e,{emit:t}){const s=e,o=y(null),r=y(s.modelValue),l=y(""),m=y(""),d=y(!1),c=y(0),p=y(null);be(()=>s.modelValue,v=>{v instanceof File||(r.value=v)});const u=t;M(()=>{(typeof s.modelValue=="string"||s.modelValue instanceof String)&&(r.value=s.modelValue)});const g=v=>{const k=v.target.files[0];if(!k.type.includes("image/")){alert("Please select an image file");return}if(typeof FileReader=="function"){const L=new FileReader;L.onload=S=>{o.value=S.target.result},L.readAsDataURL(k)}else alert("Sorry, FileReader API not supported");l.value=k.name,m.value=k.type,s.cropper?d.value=!0:(r.value=URL.createObjectURL(k),u("update:modelValue",k))},_=()=>{u("deleted",r.value),r.value=null,u("update:modelValue",r.value)},f=v=>{const{coordinates:k,imageSize:L}=p.value;L.width/L.height>k.width/k.height?c.value=(L.height-k.height)/(L.height-p.value.sizeRestrictions.minHeight):c.value=(L.width-k.width)/(L.width-p.value.sizeRestrictions.minWidth)},w=({imageSize:v})=>({width:Math.min(v.height,v.width),height:Math.min(v.height,v.width)}),A=({boundaries:v})=>({width:Math.min(v.height,v.width)-48,height:Math.min(v.height,v.width)-48}),D=v=>{const{sizeRestrictions:k,imageSize:L}=p.value;if(L.height<L.width){const S=k.minHeight,V=L.height;p.value.zoom((V-c.value*(V-S))/(V-v*(V-S)))}else{const S=k.minWidth,V=L.width;p.value.zoom((V-c.value*(V-S))/(V-v*(V-S)))}},P=async(v,k,L)=>{const V=await(await fetch(v)).blob();return new File([V],k,{type:L})},O=async()=>{const{canvas:v}=p.value.getResult();r.value=v.toDataURL();const k=await P(v.toDataURL(),l.value,m.value);u("update:modelValue",k),d.value=!1};return(v,k)=>{const L=ee,S=We;return h(),E("div",{class:F(["img-upload",[e.size?"img-upload--"+e.size:""]])},[r.value?(h(),E("div",ws,[n("img",{src:r.value,class:"w-full h-full object-fit"},null,8,ks),n("div",$s,[n("button",{type:"button",onClick:_,class:"flex items-center me-2 justify-center w-8 h-8 bg-red-400 rounded-lg"},[a(x(B),{icon:"mingcute:close-fill"})])])])):(h(),E("div",Es,[n("div",xs,[n("input",{type:"file",name:"image",accept:"image/*",onChange:g,class:"absolute w-full h-full opacity-0 cursor-pointer"},null,32),k[2]||(k[2]=n("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",class:"w-6 h-6 text-gray-600",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z"})],-1))])])),a(S,{modelValue:d.value,"onUpdate:modelValue":k[1]||(k[1]=V=>d.value=V),title:v.$t("common.adjust_image"),style:{width:"450px"},center:""},{footer:i(()=>[n("span",Ls,[a(L,{onClick:k[0]||(k[0]=V=>d.value=!1)},{default:i(()=>[a(x(B),{icon:"mingcute:close-fill",class:"me-2"}),R(" "+b(v.$t("common.cancel")),1)]),_:1}),a(L,{type:"primary",onClick:O},{default:i(()=>[a(x(B),{icon:"mingcute:check-fill",class:"me-2"}),R(" "+b(v.$t("common.save")),1)]),_:1})])]),default:i(()=>[a(x(st),{ref_key:"cropper",ref:p,class:"twitter-cropper","background-class":"twitter-cropper__background","foreground-class":"twitter-cropper__foreground","image-restriction":"stencil","stencil-size":A,"stencil-props":{lines:{},handlers:{},movable:!1,scalable:!1,aspectRatio:1,previewClass:"twitter-cropper__stencil"},transitions:!1,canvas:!0,debounce:!1,"default-size":w,"min-width":150,"min-height":150,src:o.value,onChange:f},null,8,["src"]),a(ys,{zoom:c.value,onChange:D},null,8,["zoom"])]),_:1},8,["modelValue","title"])],2)}}},De=()=>({formatDate:s=>{const o=q(),r=o.app.date_format||"YYYY-MM-DD",l=o.app.time_format||"HH:mm:ss",d=te(s).hour()||te(s).minute()||te(s).second()?`${r} ${l}`:r;return te(s).format(d)},objectToFormData:s=>{const o=new FormData;for(const r in s){const l=s[r];Array.isArray(l)?r==="images"&&l.every(m=>m instanceof File)?l.forEach((m,d)=>{o.append(`${r}[${d}]`,m)}):o.append(r,JSON.stringify(l)):l instanceof File?o.append(r,l):typeof l=="object"&&l!==null?o.append(r,JSON.stringify(l)):l!=null&&l!=="null"?o.append(r,l):(l==null||l=="null")&&o.append(r,"")}return o}}),As={class:"text-left"},Ds={__name:"Edit",emits:["childinit"],setup(e,{emit:t}){const{objectToFormData:s}=De(),{t:o}=N(),{setTitle:r}=oe(),l=W(),m=t,d=z(()=>l.user),c=y(null),p=y(!1),u=y({name:null,email:null,image:null}),g=y({name:[{required:!0,message:o("validation.required",{attribute:o("common.name")}),trigger:"blur"}],email:[{required:!0,message:o("validation.required",{attribute:o("common.email")}),trigger:"blur"}],image:[{required:!0,message:o("validation.required",{attribute:o("common.image")}),trigger:"blur"}]}),_=async()=>{c.value&&c.value.validate(async f=>{if(f)try{p.value=!0,await axios({method:"post",url:"/profile/update",data:s(u.value),headers:{"Content-Type":"multipart/form-data"}}),l.getUser(),H({message:o("message.success_save"),type:"success"}),p.value=!1}catch(w){console.log("Form Error:",w),p.value=!1,H({message:o("message.error_server"),type:"error"})}else H({message:o("message.error_input"),type:"error"})})};return M(()=>{m("childinit","Edit Profile"),r("Edit Profile"),u.value.name=d.value.name,u.value.email=d.value.email,u.value.image=d.value.image}),(f,w)=>{const A=ue,D=de,P=Z,O=X,v=ee,k=ce,L=U,S=Y;return J((h(),C(L,{class:"shadow-sm sm:rounded-lg"},{default:i(()=>[a(k,{ref_key:"formRef",ref:c,model:u.value,rules:g.value,onSubmit:Q(_,["prevent"]),"label-position":"top"},{default:i(()=>[a(O,{gutter:20},{default:i(()=>[a(P,{md:16},{default:i(()=>[a(D,{label:f.$t("common.name"),prop:"name"},{default:i(()=>[a(A,{modelValue:u.value.name,"onUpdate:modelValue":w[0]||(w[0]=V=>u.value.name=V)},null,8,["modelValue"])]),_:1},8,["label"]),a(D,{label:f.$t("common.email"),prop:"email"},{default:i(()=>[a(A,{modelValue:u.value.email,"onUpdate:modelValue":w[1]||(w[1]=V=>u.value.email=V)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(P,{md:8},{default:i(()=>[a(D,{label:f.$t("common.image"),prop:"image"},{default:i(()=>[a(Vs,{modelValue:u.value.image,"onUpdate:modelValue":w[2]||(w[2]=V=>u.value.image=V),size:"small"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),n("div",As,[a(v,{"native-type":"submit",type:"primary"},{default:i(()=>[R(b(f.$t("common.save")),1)]),_:1})])]),_:1},8,["model","rules"])]),_:1})),[[S,p.value]])}}},Cs={class:""},Ps={__name:"Password",props:{title:{type:String,default:""}},emits:["childinit"],setup(e,{emit:t}){const{t:s}=N(),{setTitle:o}=oe(),r=t,l=y({old_password:null,new_password:null,password_confirmation:null}),m=y({}),d=y(!1),c=async()=>{d.value=!0;const p="/profile/password";try{const u=await axios.post(p,l.value);H({message:s("success_msg"),type:"success"})}catch(u){m.value=u.validation,H({message:s("error_msg"),type:"error"})}finally{d.value=!1}};return M(()=>{r("childinit","Edit Password"),o("Edit Password")}),(p,u)=>{const g=ue,_=de,f=Z,w=X,A=ee,D=ce,P=U,O=Y;return J((h(),C(P,{class:"shadow-sm sm:rounded-lg"},{default:i(()=>[a(D,{model:l.value,onSubmit:Q(c,["prevent"]),"label-position":"top"},{default:i(()=>[a(w,{gutter:20},{default:i(()=>[a(f,{md:12},{default:i(()=>[a(_,{label:p.$t("common.old_password"),error:m.value.old_password},{default:i(()=>[a(g,{modelValue:l.value.old_password,"onUpdate:modelValue":u[0]||(u[0]=v=>l.value.old_password=v),type:"password","show-password":"",clearable:""},null,8,["modelValue"])]),_:1},8,["label","error"]),a(_,{label:p.$t("common.new_password"),error:m.value.new_password},{default:i(()=>[a(g,{modelValue:l.value.new_password,"onUpdate:modelValue":u[1]||(u[1]=v=>l.value.new_password=v),type:"password","show-password":"",clearable:""},null,8,["modelValue"])]),_:1},8,["label","error"]),a(_,{label:p.$t("common.new_password_confirmation"),error:m.value.password_confirmation},{default:i(()=>[a(g,{modelValue:l.value.password_confirmation,"onUpdate:modelValue":u[2]||(u[2]=v=>l.value.password_confirmation=v),type:"password","show-password":"",clearable:""},null,8,["modelValue"])]),_:1},8,["label","error"])]),_:1})]),_:1}),n("div",Cs,[a(A,{"native-type":"submit",type:"primary"},{default:i(()=>[R(b(p.$t("common.save")),1)]),_:1})])]),_:1},8,["model"])]),_:1})),[[O,d.value]])}}},Bs={class:"font-semibold"},Rs={class:"font-medium text-sm"},Ts={__name:"Device",emits:["childinit"],setup(e,{emit:t}){const{t:s}=N(),{formatDate:o}=De(),r=t,{setTitle:l}=oe();y({avatar:null,name:null,username:null,email:null});const m=y({}),d=y(!1),c=y([]),p=async()=>{try{m.value={},d.value=!0;const u=await axios.get("/profile/device");u.status===200&&(c.value=u.data)}catch(u){console.error(u)}finally{d.value=!1}};return M(()=>{l(s("common.device",2)),r("childinit",s("common.device",2)),p()}),(u,g)=>{const _=Ge,f=ee,w=Ne,A=U,D=Y;return J((h(),C(A,{class:"shadow-sm sm:rounded-lg","body-class":"p-0"},{default:i(()=>[J((h(),C(w,{class:"min-w-full sm:rounded-lg",data:c.value},{default:i(()=>[a(_,{prop:"name",label:u.$t("common.device"),"header-align":"center"},{default:i(P=>[n("div",Bs,b(P.row.name),1),n("div",Rs,"IP: "+b(P.row.ip),1)]),_:1},8,["label"]),a(_,{label:u.$t("common.last_access"),"header-align":"center"},{default:i(P=>[R(b(x(o)(P.row.last_used_at)),1)]),_:1},8,["label"]),a(_,{label:u.$t("common.action"),align:"center"},{default:i(P=>[a(f,{type:"primary",disabled:P.row.is},{default:i(()=>[R(b(u.$t("common.disconnect")),1)]),_:2},1032,["disabled"])]),_:1},8,["label"])]),_:1},8,["data"])),[[D,d.value]])]),_:1})),[[D,d.value]])}}},zs={class:"content"},Ss={class:"content-header"},Is={class:"content-title"},Os={class:"md:flex hidden items-center gap-2.5 text-sm font-semibold"},js={class:"space-y-2"},Ms={__name:"Index",setup(e){const t=y(""),s=o=>{t.value=o};return(o,r)=>{const l=Ee,m=$e,d=j("router-link"),c=U,p=Z,u=j("router-view"),g=X;return h(),E("div",zs,[n("div",Ss,[n("h2",Is,b(o.$t(`base.${t.value}`)),1),n("div",Os,[a(m,{separator:"/"},{default:i(()=>[a(l,{to:{path:"/"}},{default:i(()=>[R(b(o.$t("base.dashboard")),1)]),_:1}),a(l,{to:{path:"/settings"}},{default:i(()=>[R(b(o.$t("base.setting",2)),1)]),_:1}),a(l,null,{default:i(()=>[R(b(o.$t("base.system")),1)]),_:1})]),_:1})])]),a(g,{gutter:20},{default:i(()=>[a(p,{lg:6},{default:i(()=>[a(c,{class:"shadow-sm sm:rounded-lg","body-class":"p-2"},{default:i(()=>[n("div",js,[a(d,{to:"/settings/system",exactActiveClass:"text-gray-500 bg-slate-100",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300"},{default:i(()=>[r[0]||(r[0]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"me-3.5 w-5",width:"24",height:"24",viewBox:"0 0 24 24"},[n("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",color:"currentColor"},[n("path",{d:"M15.5 12a3.5 3.5 0 1 1-7 0a3.5 3.5 0 0 1 7 0"}),n("path",{d:"M20.79 9.152C21.598 10.542 22 11.237 22 12s-.403 1.458-1.21 2.848l-1.923 3.316c-.803 1.384-1.205 2.076-1.865 2.456s-1.462.38-3.065.38h-3.874c-1.603 0-2.405 0-3.065-.38s-1.062-1.072-1.865-2.456L3.21 14.848C2.403 13.458 2 12.763 2 12s.403-1.458 1.21-2.848l1.923-3.316C5.936 4.452 6.338 3.76 6.998 3.38S8.46 3 10.063 3h3.874c1.603 0 2.405 0 3.065.38s1.062 1.072 1.865 2.456z"})])],-1)),n("span",null,b(o.$t("base.general")),1)]),_:1}),a(d,{to:"/settings/system/email",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300",exactActiveClass:"text-gray-500 bg-slate-100"},{default:i(()=>[a(x(B),{icon:"hugeicons:mail-setting-01",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(o.$t("common.email")),1)]),_:1})])]),_:1})]),_:1}),a(p,{lg:18},{default:i(()=>[a(u,{onChildinit:s})]),_:1})]),_:1})])}}},Fs=[{path:"/settings/",children:[{path:"system",name:"settings.system",component:Ms,children:[{path:"",name:"settings.system.general",component:()=>$(()=>import("./General-0yjtLBh6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]))},{path:"email",name:"settings.system.email",component:()=>$(()=>import("./Email-BZ216f0Y.js"),__vite__mapDeps([29,1,11,12,3,2,4,5,6,7,8,9,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]))}]},{path:"user",children:[{path:"",name:"settings.user.index",component:()=>$(()=>import("./Index-D3cTFtLp.js"),__vite__mapDeps([30,1,10,16,31,11,12,32,3,2,4,5,6,7,8,9,23,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))},{path:"create",name:"settings.user.create",component:()=>$(()=>import("./Form-C0-DX31I.js"),__vite__mapDeps([33,1,10,3,2,4,5,6,7,8,9,34,23,14,11,12,13,15,16,17,18,19,20,21,22,24,25,26,27,28]))},{path:":id/edit",name:"settings.user.edit",component:()=>$(()=>import("./Form-C0-DX31I.js"),__vite__mapDeps([33,1,10,3,2,4,5,6,7,8,9,34,23,14,11,12,13,15,16,17,18,19,20,21,22,24,25,26,27,28]))}]},{path:"permission",children:[{path:"",name:"permission.index",component:()=>$(()=>import("./Index-DOf3O8jb.js"),__vite__mapDeps([35,1,16,31,11,12,3,2,4,5,6,7,8,9]))},{path:"create",name:"permission.create",component:()=>$(()=>import("./Form-C7mAr8wK.js"),__vite__mapDeps([36,1,11,12,14,3,2,4,5,6,7,8,9]))},{path:":id/edit",name:"permission.edit",component:()=>$(()=>import("./Form-C7mAr8wK.js"),__vite__mapDeps([36,1,11,12,14,3,2,4,5,6,7,8,9]))}]},{path:"department",name:"settings.department",component:()=>$(()=>import("./Department-A7WfK2d_.js"),__vite__mapDeps([37,1,10,16,31,11,12,32,3,2,4,5,6,7,8,9,23,38,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))},{path:"job-position",name:"settings.job_position",component:()=>$(()=>import("./JobPosition-D0PU4X7k.js"),__vite__mapDeps([39,1,10,16,31,11,12,32,3,2,4,5,6,7,8,9,23,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))},{path:"grade",name:"settings.grade",component:()=>$(()=>import("./Grade-Dlc9Yg2X.js"),__vite__mapDeps([40,1,10,16,31,11,12,32,3,2,4,5,6,7,8,9,23,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))},{path:"expertise",name:"settings.expertise",component:()=>$(()=>import("./Expertise-DcCIJOfB.js"),__vite__mapDeps([41,1,10,16,31,11,12,32,3,2,4,5,6,7,8,9,23,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))}]}],Us={class:"2xl:w-1/4 lg:w-1/3 md:w-1/2 w-full"},qs={class:"p-6"},Hs={href:"",class:"block mb-8"},Ws=["src"],Ns=["src"],Gs={__name:"Login",setup(e){const{t}=N();xe(t("common.login"));const s=le(),o=y(null),r=y({email:"",password:""}),l=y({email:[{required:!0,message:t("validation.required",{attribute:t("common.email")}),trigger:"blur"}],password:[{required:!0,message:t("validation.required",{attribute:t("common.password")}),trigger:"blur"}]}),m=y(""),d=y(!1),c=W(),p=q(),u=z(()=>p.app),g=()=>{},_=async()=>{o.value&&o.value.validate(async f=>{var w,A;if(f){d.value=!0;try{await c.login(r.value),H({message:t("message.success_login"),type:"success"}),s.replace("/dashboard")}catch(D){(w=D.validation)!=null&&w.email&&(m.value=(A=D.validation)==null?void 0:A.email),H({message:t("message.error_login"),type:"error"})}finally{d.value=!1}}else H({message:t("message.error_input"),type:"error"})})};return(f,w)=>{const A=ue,D=de,P=ee,O=ce,v=U;return h(),E("div",Us,[a(v,{class:"overflow-hidden sm:rounded-md rounded-none"},{default:i(()=>[n("div",qs,[n("a",Hs,[n("img",{class:"w-full block dark:hidden",src:u.value.logo_light,alt:""},null,8,Ws),n("img",{class:"w-full hidden dark:block",src:u.value.logo_dark,alt:""},null,8,Ns)]),a(O,{ref_key:"formRef",ref:o,model:r.value,rules:l.value,"label-position":"top",onSubmit:Q(_,["prevent"])},{default:i(()=>[a(D,{label:f.$t("common.email"),prop:"email",error:m.value},{default:i(()=>[a(A,{modelValue:r.value.email,"onUpdate:modelValue":w[0]||(w[0]=k=>r.value.email=k),type:"text",onInput:g},null,8,["modelValue"])]),_:1},8,["label","error"]),a(D,{label:f.$t("common.password"),prop:"password"},{default:i(()=>[a(A,{modelValue:r.value.password,"onUpdate:modelValue":w[1]||(w[1]=k=>r.value.password=k),type:"password","show-password":""},null,8,["modelValue"])]),_:1},8,["label"]),a(P,{"native-type":"submit",type:"primary",class:"w-full",loading:d.value},{default:i(()=>[R(b(f.$t("common.login")),1)]),_:1},8,["loading"])]),_:1},8,["model","rules"])])]),_:1})])}}},Js=[],me=Te({history:ze("/"),routes:[{name:"login",path:"/",component:Gs,meta:{layout:"Guest"}},{path:"/dashboard",name:"dashboard",component:ds,meta:{requiredAuth:!0}},{path:"/profile/",name:"profile",component:hs,children:[{path:"",name:"profile.edit",component:Ds},{path:"password",name:"profile.password",component:Ps},{path:"devices",name:"profile.device",component:Ts},{path:"additional",name:"profile.additional",component:()=>$(()=>import("./Additional-D861RvVx.js"),__vite__mapDeps([42,11,12,1,43,10,16,31,32,3,2,4,5,6,7,8,9,23,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))}],meta:{requiredAuth:!0}},...Js,{path:"/employee",children:[{path:"",name:"employee.index",component:()=>$(()=>import("./Index-LSvfaqA_.js"),__vite__mapDeps([44,1,10,16,31,32,3,2,4,5,6,7,8,9,23,11,12,45,38,34,17,18,13,14,15,19,20,21,22,24,25,26,27,28])),meta:{requiredAuth:!0,permission:"employee.view"}},{path:"create",name:"employee.create",component:()=>$(()=>import("./Form-DPH2FEL-.js"),__vite__mapDeps([46,1,16,14,11,12,45,10,23,3,2,4,5,6,7,8,9,38,34,13,15,17,18,19,20,21,22,24,25,26,27,28])),meta:{requiredAuth:!0,permission:"employee.create"}},{path:":id",name:"employee.show",component:()=>$(()=>import("./Show-CqaKxuZx.js"),__vite__mapDeps([47,16,1,14,11,12,23,19,43,10,31,32,3,2,4,5,6,7,8,9,17,18,13,15,20,21,22,24,25,26,27,28])),meta:{requiredAuth:!0,permission:"employee.view"}},{path:":id/edit",name:"employee.edit",component:()=>$(()=>import("./Form-DPH2FEL-.js"),__vite__mapDeps([46,1,16,14,11,12,45,10,23,3,2,4,5,6,7,8,9,38,34,13,15,17,18,19,20,21,22,24,25,26,27,28])),meta:{requiredAuth:!0,permission:"employee.update"}}]},...Fs,{path:"/403",name:"forbidden",component:()=>$(()=>import("./Forbidden-DRsOHUHc.js"),__vite__mapDeps([48,1,10,13,14,15,16,11,12,17,18,3,2,4,5,6,7,8,9,19,20,21,22,23,24,25,26,27,28])),meta:{layout:"Guest"}},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>$(()=>import("./NotFound-HId0WqC7.js"),__vite__mapDeps([49,1,10,13,14,15,16,11,12,17,18,3,2,4,5,6,7,8,9,19,20,21,22,23,24,25,26,27,28])),meta:{layout:"Guest"}}]});me.beforeEach(Xt);I.defaults.baseURL="/api/";I.interceptors.request.use(e=>{const t=W();return t.token?e.headers.Authorization=`Bearer ${t.token}`:e.headers.Authorization="",e});I.interceptors.response.use(function(e){return e},function(e){var s,o;const t={status:(s=e.response)==null?void 0:s.status,original:e,validation:{},message:null};switch((o=e.response)==null?void 0:o.status){case 422:for(let r in e.response.data.result)t.validation[r]=e.response.data.result[r][0];break;case 403:t.message="You're not allowed to do that.";break;case 401:t.message="Please re-login.";break;case 404:me.push({name:"not-found"});break;case 500:t.message="Something went really bad. Sorry.";break;default:t.message="Something went wrong. Please try again later."}return Promise.reject(t)});async function Ys(e,t){const s={},l={...Object.assign({"/resources/js/lang/en/base.json":()=>$(()=>import("./base-BIFuOsHW.js"),[]),"/resources/js/lang/en/common.json":()=>$(()=>import("./common-BLJkIQbJ.js"),[]),"/resources/js/lang/en/employee.json":()=>$(()=>import("./employee-CAnUxnja.js"),[]),"/resources/js/lang/en/message.json":()=>$(()=>import("./message-BILOl3PF.js"),[]),"/resources/js/lang/en/setting.json":()=>$(()=>import("./setting-B-0TqGqS.js"),[]),"/resources/js/lang/en/validation.json":()=>$(()=>import("./validation-DeyiHVhy.js"),[]),"/resources/js/lang/id/base.json":()=>$(()=>import("./base-D6yVc0dO.js"),[]),"/resources/js/lang/id/common.json":()=>$(()=>import("./common-20bA3TsE.js"),[]),"/resources/js/lang/id/employee.json":()=>$(()=>import("./employee-CZzsWZTy.js"),[]),"/resources/js/lang/id/message.json":()=>$(()=>import("./message-CuSMKXzQ.js"),[]),"/resources/js/lang/id/setting.json":()=>$(()=>import("./setting-CYokkdWs.js"),[]),"/resources/js/lang/id/validation.json":()=>$(()=>import("./validation-CsmILQWW.js"),[])}),...Object.assign({})};for(const m of t){s[m]=s[m]||{};for(const[d,c]of Object.entries(l)){const p=d.match(new RegExp(`${e}/(\\w+)/(.+?)\\.json`));if(p){const[u,g,_]=p;if(g===m){const f=await c();s[m][_]=f.default||f}}}}return s}async function Xs(){const e=window.config.locale||"en",s=await Ys("/resources/js/lang",["en","id"]);return Se({legacy:!1,locale:e,fallbackLocale:"en",messages:s})}(async()=>{const e=await Xs(),t=Pe(Gt);t.use(Be()),t.use(me),t.use(nt),t.use(e),t.use(at),t.use(Oe,Ae),t.use(ot,{treeName:"blocks-tree"}),t.mount("#app")})();export{Vs as _,W as a,De as b,ae as c,q as d,oe as u};
