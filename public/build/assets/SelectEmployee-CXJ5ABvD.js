import{a as V}from"./axios-D8rVyQy1.js";import{u as k}from"./@tanstack-D5MgbqGz.js";import{x as E,w as b}from"./element-plus-B3W2dA5h.js";import{r as m,w,M as p,o as s,O as x,c as q,V as B,ai as C,u as d}from"./@vue-BedgDXZT.js";const K={__name:"SelectEmployee",props:{modelValue:{type:Number,default:null},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:i}){const f=i,u=n,c=m({q:""}),l=m(u.modelValue);w(()=>u.modelValue,e=>{l.value=e,g()});const y=async({queryKey:e})=>{const[o,r]=e,t=await V.get("/employee",{params:r});return c.value.page=t.data.page,t.data},{data:v,isLoading:_,isError:S,error:D,refetch:g}=k({queryKey:["selectEmployee",c.value],queryFn:y,keepPreviousData:!0}),h=e=>{l.value=e,f("update:modelValue",e)};return(e,o)=>{const r=E,t=b;return s(),p(t,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=a=>l.value=a),"value-key":"id",class:"w-100",filterable:"",clearable:"",remote:"",onChange:h,autocomplete:"off",placeholder:n.placeholder,loading:d(_)},{default:x(()=>[(s(!0),q(B,null,C(d(v),a=>(s(),p(r,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","loading"])}}};export{K as _};
