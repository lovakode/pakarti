const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/General-DKzYSKgm.js","assets/@vue-BedgDXZT.js","assets/dayjs-BmnIqbSg.js","assets/element-plus-B3W2dA5h.js","assets/@popperjs-D_chPuIy.js","assets/@element-plus-DHhqOHwO.js","assets/lodash-es-D7WVGOfI.js","assets/async-validator-9PlIezaS.js","assets/normalize-wheel-es-BQoi3Ox2.js","assets/@ctrl-r5W6hzzQ.js","assets/axios-D8rVyQy1.js","assets/vue-i18n-3uPOuKlG.js","assets/@intlify-ChVUvfmF.js","assets/pinia-BVe78Fnf.js","assets/vue-router-CFFWa3Rv.js","assets/js-cookie-Cz0CWeBA.js","assets/@iconify-BzSLy_Lz.js","assets/@casl-Dl6lt6vV.js","assets/@ucast-BiZkLRnB.js","assets/@vueuse-_BfsD77n.js","assets/chart.js-B8s4pPcf.js","assets/vue-advanced-cropper-C5NvVQmq.js","assets/vue-advanced-cropper-D2JBOGWk.css","assets/@tanstack-D5MgbqGz.js","assets/vue3-blocks-tree-BkKvaGx5.js","assets/vue-BcxTvRm9.js","assets/@unhead-BU3UxbPv.js","assets/unhead-M3i9Ttrl.js","assets/hookable-B8xFkYCm.js","assets/Email-DkCRXnJ0.js","assets/Index-DWRarTB8.js","assets/lodash-G2ORfQRs.js","assets/SkeletonTable-CkoHEoRM.js","assets/Form-Be3Wo9gO.js","assets/SelectEmployee-CXJ5ABvD.js","assets/Index-VJgdkfBp.js","assets/Form-D8wd80ZT.js","assets/Department-DFdjmUWz.js","assets/SelectDepartment-CcS2AWQw.js","assets/JobPosition-B1h0yviu.js","assets/Grade-Bq6tU3K8.js","assets/Expertise-9gZyu7JW.js","assets/Additional-CGXTl7aD.js","assets/Attachment-DQwTcyiT.js","assets/Index-O2UZqZdl.js","assets/SelectJobPosition-DMRxHTP3.js","assets/Index-DXqyW95i.css","assets/Form-le_dxNdC.js","assets/Show-9kFZg_Rv.js","assets/Forbidden-B51gG28V.js","assets/NotFound-D7q1SBkN.js"])))=>i.map(i=>d[i]);
import{a as I}from"./axios-D8rVyQy1.js";import{f as z,al as j,c as E,o as h,V as Q,ai as ne,Q as F,T as R,M as C,R as T,U as b,W as a,u as x,O as i,r as w,w as be,q as M,a as n,J as ie,$ as Z,S as ye,P as J,a1 as Ce,a0 as pe,aw as Pe}from"./@vue-BedgDXZT.js";import{d as we,c as Be}from"./pinia-BVe78Fnf.js";import{u as le,a as ke,R as Re,c as Te,b as ze}from"./vue-router-CFFWa3Rv.js";import{a as G}from"./js-cookie-Cz0CWeBA.js";import{I as B}from"./@iconify-BzSLy_Lz.js";import{u as N,c as Se}from"./vue-i18n-3uPOuKlG.js";import{A as Ie,u as re,l as Oe}from"./@casl-Dl6lt6vV.js";import{E as je,a as Me,b as Fe,c as Ue,d as qe,e as He,v as Y,f as U,g as X,h as K,i as $e,j as Ee,k as ee,l as We,m as ce,n as de,o as ue,p as H,q as Ne,r as Ge}from"./element-plus-B3W2dA5h.js";import{u as Je,a as Ye,b as xe}from"./@vueuse-_BfsD77n.js";import{C as se,B as Xe,a as Ke,L as Qe,b as Ze,p as Le,c as Ve,D as et,A as tt}from"./chart.js-B8s4pPcf.js";import{f as st}from"./vue-advanced-cropper-C5NvVQmq.js";import{d as te}from"./dayjs-BmnIqbSg.js";import{V as at}from"./@tanstack-D5MgbqGz.js";import{V as ot}from"./vue3-blocks-tree-BkKvaGx5.js";import{c as nt}from"./@unhead-BU3UxbPv.js";import"./@intlify-ChVUvfmF.js";import"./@ucast-BiZkLRnB.js";import"./@popperjs-D_chPuIy.js";import"./@element-plus-DHhqOHwO.js";import"./lodash-es-D7WVGOfI.js";import"./async-validator-9PlIezaS.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@ctrl-r5W6hzzQ.js";import"./vue-BcxTvRm9.js";import"./unhead-M3i9Ttrl.js";import"./hookable-B8xFkYCm.js";window.axios=I;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const it={main:[{name:"base.dashboard",to:"/dashboard",icon:"fluent:home-24-regular"},{name:"base.employee",to:"/employee",icon:"fluent:people-24-regular",permission:"employee.view"},{name:"base.setting",icon:"solar:settings-linear",subActivePaths:"/settings/",sub:[{name:"base.system",to:"/settings/system",permission:""},{name:"base.user",to:"/settings/user",permission:"user.view"},{name:"base.role_permission",to:"/settings/permission",permission:"role.view"},{name:"base.department",to:"/settings/department",permission:"department.view"},{name:"base.job_position",to:"/settings/job-position",permission:"job_position.view"},{name:"base.grade",to:"/settings/grade",permission:"grade.view"},{name:"base.expertise",to:"/settings/expertise",permission:"expertise.view"}]}]},{locale:Ea,locales:xa}=window.config,_e={getWindowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},getCurrentYear(){return new Date().getFullYear()}},ge="APP",q=we({id:"appBase",state:()=>({initialized:!1,loading:!1,app:{app_name:"",date_format:"",time_format:"",timezone:"",logo_light:null,logo_dark:null,locale:null,locales:[],currency:null},layout:{header:!0,sidebar:!0,sideOverlay:!0,footer:!0},settings:{colorTheme:"",sidebarLeft:!0,sidebarMini:!1,sidebarDark:!0,sidebarVisibleDesktop:!0,sidebarVisibleMobile:!1,sideOverlayVisible:!1,sideOverlayHoverable:!1,pageOverlay:!0,headerFixed:!0,headerDark:!1,headerSearch:!1,headerLoader:!1,pageLoader:!1,rtlSupport:!1,sideTransitions:!0,mainContent:""}}),getters:{isInitialized(e){return e.app.app_name!==""&&e.initialized},locales:e=>e.app.locales,locale:e=>e.app.locale},actions:{async initApp(){this.loading=!0;const e=G.get(ge);e?(this.app=JSON.parse(e),this.initialized=!0):(await this.fetchSettings(),this.initialized=!0),this.loading=!1},async fetchSettings(){try{const e=await I.get("/base");this.app=e.data,this.saveSettingsToCookie()}catch(e){console.error("Failed to load settings from API:",e)}},async reinitApp(){this.initialized=!1,G.remove("APP"),await this.fetchSettings()},saveSettingsToCookie(){G.set(ge,JSON.stringify(this.app),{expires:7})},setLocale(e){this.app.locale=e},setLayout(e){state.layout.header=e.header,state.layout.sidebar=e.sidebar,state.layout.sideOverlay=e.sideOverlay,state.layout.footer=e.footer},sidebar(e){_e.getWindowWidth()>991?e==="open"?this.settings.sidebarVisibleDesktop=!0:e==="close"?this.settings.sidebarVisibleDesktop=!1:e==="toggle"&&(this.settings.sidebarVisibleDesktop=!this.settings.sidebarVisibleDesktop):e==="open"?this.settings.sidebarVisibleMobile=!0:e==="close"?this.settings.sidebarVisibleMobile=!1:e==="toggle"&&(this.settings.sidebarVisibleMobile=!this.settings.sidebarVisibleMobile)},sidebarMini(e){_e.getWindowWidth()>991&&(e==="on"?this.settings.sidebarMini=!0:e==="off"?this.settings.sidebarMini=!1:e==="toggle"&&(this.settings.sidebarMini=!this.settings.sidebarMini))},sidebarPosition(e){e==="left"?this.settings.sidebarLeft=!0:e==="right"?this.settings.sidebarLeft=!1:e==="toggle"&&(this.settings.sidebarLeft=!this.settings.sidebarLeft)},sidebarStyle(e,t){t.mode==="dark"?e.settings.sidebarDark=!0:t.mode==="light"?e.settings.sidebarDark=!1:t.mode==="toggle"&&(e.settings.sidebarDark=!e.settings.sidebarDark)},pageLoader(e,t){t.mode==="on"?e.settings.pageLoader=!0:t.mode==="off"?e.settings.pageLoader=!1:t.mode==="toggle"&&(e.settings.pageLoader=!e.settings.pageLoader)},mainContent(e,t){t.mode==="full"?e.settings.mainContent="":t.mode==="boxed"?e.settings.mainContent="boxed":t.mode==="narrow"&&(e.settings.mainContent="narrow")},async updateApp(){}}}),lt=["event","onClick"],rt={key:0,class:"menu-main-link-icon"},ct={key:1,class:"menu-main-link-text"},dt={key:0,class:"menu-main-link-icon"},ut={key:1,class:"menu-main-link-text"},mt={__name:"BaseNavigation",props:{nodes:{type:Array,description:"The nodes of the navigation"},subMenu:{type:Boolean,default:!1,description:"If true, a submenu will be rendered"},dark:{type:Boolean,default:!1,description:"Dark mode for menu"},horizontal:{type:Boolean,default:!1,description:"Horizontal menu in large screen width"},horizontalHover:{type:Boolean,default:!1,description:"Hover mode for horizontal menu"},horizontalCenter:{type:Boolean,default:!1,description:"Center mode for horizontal menu"},horizontalJustify:{type:Boolean,default:!1,description:"Justify mode for horizontal menu"}},setup(e){le();const t=ke(),s=q(),o=e,r=p=>t.path===p||t.fullPath.startsWith(p),l=z(()=>({"menu-main":!o.subMenu,"menu-main-submenu":o.subMenu,"menu-main-dark":o.dark,"menu-main-horizontal":o.horizontal,"menu-main-hover":o.horizontalHover,"menu-main-horizontal-center":o.horizontalCenter,"menu-main-horizontal-justify":o.horizontalJustify})),_=p=>(Array.isArray(p)?p:[p]).some(d=>t.path.startsWith(d)),c=(p,u)=>{let d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(u){let g=p.target.closest("li");d>991&&o.horizontal&&o.horizontalHover||(g.classList.contains("open")?g.classList.remove("open"):(Array.from(g.closest("ul").children).forEach(f=>{f.classList.remove("open")}),g.classList.add("open")))}else d<992&&s.sidebar("close")};return(p,u)=>{const d=j("router-link"),g=j("base-navigation",!0);return h(),E("ul",{class:F(l.value)},[(h(!0),E(Q,null,ne(e.nodes,(m,f)=>(h(),E("li",{key:`node-${f}`,class:F({"menu-main-heading":m.heading,"menu-main-item":!m.heading,open:m.sub&&m.subActivePaths?_(m.subActivePaths):!1,active:!!(m.to&&r(m.to))})},[R(b(m.heading?m.name:"")+" ",1),m.sub?(h(),E(Q,{key:0},[m.heading?T("",!0):(h(),E("a",{key:0,href:"#",class:F(["menu-main-link",m.sub?"submenu":""]),event:m.sub?"":"click",onClick:y=>c(y,m.sub)},[m.icon?(h(),E("span",rt,[a(x(B),{icon:m.icon},null,8,["icon"])])):T("",!0),m.name?(h(),E("span",ct,b(p.$t(m.name,2)),1)):T("",!0),m.badge?(h(),E("span",{key:2,class:F(["menu-main-link-badge badge badge-pill badge-primary",m["badge-variant"]?`badge-${m["badge-variant"]}`:"badge-primary"])},b(m.badge),3)):T("",!0)],10,lt))],64)):(h(),E(Q,{key:1},[m.heading?T("",!0):(h(),C(d,{key:0,to:m.to?m.to:"#",class:F([m.sub?"submenu":"","menu-main-link"]),event:m.sub?"":"click",onClick:y=>c(y,m.sub)},{default:i(()=>[m.icon?(h(),E("span",dt,[a(x(B),{icon:m.icon},null,8,["icon"])])):T("",!0),m.name?(h(),E("span",ut,b(p.$t(m.name,2)),1)):T("",!0),m.badge?(h(),E("span",{key:2,class:F(["menu-main-link-badge badge badge-pill badge-primary",m["badge-variant"]?`badge-${m["badge-variant"]}`:"badge-primary"])},b(m.badge),3)):T("",!0)]),_:2},1032,["to","class","event","onClick"]))],64)),m.sub?(h(),C(g,{key:2,nodes:m.sub,"sub-menu":""},null,8,["nodes"])):T("",!0)],2))),128))],2)}}},Ae=new Ie([]),pt=e=>{const t=e.map(s=>{const[o,r]=s.split(".");return{action:r,subject:o}});Ae.update(t)},W=we({id:"auth",state:()=>({user:null,token:G.get("token")||null,permissions:[]}),getters:{isLoggedIn:e=>!!e.token,userData:e=>e.user,permissionData:e=>e.permissions},actions:{async getUser(){try{const{data:e}=await I.get("/profile");this.updateUser(e),this.setPermissions(e.permissions)}catch(e){e.status==401&&(this.user=null,this.token=null,this.permissions=[],this.$reset(),G.remove("token"),delete I.defaults.headers.common.Authorization,window.location.href="/login"),console.error("Failed to fetch user data:",e)}},setPermissions(e){this.permissions=e,pt(e)},updateUser(e){var t,s;this.user={id:e.id,name:e.name,email:e.email,employee_id:e.employee_id,image:e.image,image_url:e.image_url,role:((s=(t=e.roles)==null?void 0:t[0])==null?void 0:s.name)||null}},updateToken(e){this.token=e,G.set("token",e),I.defaults.headers.common.Authorization=`Bearer ${e}`},async login({email:e,password:t}){try{const{data:s}=await I.post("/login",{email:e,password:t});this.updateUser(s.result.user),this.setPermissions(s.result.permissions),this.updateToken(s.result.access_token)}catch(s){throw console.log("Login Error",s),s}},async forgotPassword({email:e}){try{await I.post("/forgot-password",{email:e})}catch(t){throw console.error("Forgot password error:",t),t}},async logout(){try{await I.post("/logout")}catch{console.warn("Logout request failed, clearing session anyway.")}this.user=null,this.token=null,this.permissions=[],this.$reset(),G.remove("token"),delete I.defaults.headers.common.Authorization,window.location.href="/login"}}}),_t={id:"page-sidebar"},gt={class:"sidebar-content justify-end"},ht={class:"logo-light"},ft=["src"],vt=["src"],bt={class:"logo-dark"},yt=["src"],wt=["src"],kt={__name:"BaseSidebar",setup(e){const{can:t}=re(),s=W(),o=z(()=>s.permissionData),r=z(()=>it.main),l=q(),{t:_}=N(),c=z(()=>l.app),p=w([]);function u(d){return d.filter(g=>{if(g.sub)return g.sub=u(g.sub),g.sub.length>0;if(!g.permission)return!0;const[m,f]=g.permission.split(".");return t(f,m)})}return be(o,d=>{d&&d.length>0&&(p.value=u(r.value))},{immediate:!0}),M(()=>{o.value&&o.value.length>0&&(p.value=u(r.value))}),z(()=>l.settings.sidebarMini),(d,g)=>{const m=j("router-link"),f=je;return h(),E("div",_t,[n("div",gt,[a(m,{to:"/dashboard",class:"logo"},{default:i(()=>[n("div",ht,[n("img",{src:c.value.logo_dark,class:"logo-lg h-10 smini-hidden",alt:"Light logo"},null,8,ft),n("img",{src:c.value.logo_dark_sm,class:"logo-sm smini-visible",alt:"Small logo"},null,8,vt)]),n("div",bt,[n("img",{src:c.value.logo_light,class:"logo-lg h-10 smini-hidden",alt:"Dark logo"},null,8,yt),n("img",{src:c.value.logo_light_sm,class:"logo-sm smini-visible",alt:"Small logo"},null,8,wt)])]),_:1}),a(f,{class:"md:h-[550px] p-4"},{default:i(()=>[a(mt,{nodes:p.value},null,8,["nodes"])]),_:1})])])}}},he={__name:"LayoutModifier",props:{tag:{type:String,default:"button",description:"The HTML tag of the component (button, a)"},size:{type:String,description:"Button size (sm, lg)"},variant:{type:String,default:"primary",description:"Button variant (primary, alt-primary, outline-primary, secondary, alt-secondary, outline-secondary, light, alt-light, outline-light, dark, alt-dark, outline-dark, danger, alt-danger, outline-danger, info, alt-info, outline-info, success, alt-success, outline-success, warning, alt-warning, outline-warning, dual)"},action:{type:String,description:"Specify the layout modifier mode to apply on click"}},setup(e){const t=e,s=q(),o={sidebarOpen:()=>s.sidebar("open"),sidebarClose:()=>s.sidebar("close"),sidebarToggle:()=>s.sidebar("toggle"),sidebarMiniOn:()=>s.sidebarMini("on"),sidebarMiniOff:()=>s.sidebarMini("off"),sidebarMiniToggle:()=>s.sidebarMini("toggle")},r=()=>{t.action&&o[t.action]&&o[t.action]()};return(l,_)=>(h(),C(ye(e.tag),{type:e.tag==="button"?"button":!1,href:e.tag==="a"?"#":!1,onClick:Z(r,["prevent"])},{default:i(()=>[ie(l.$slots,"default")]),_:3},8,["type","href"]))}},ae=(e,t)=>{const s=e.__vccOpts||e;for(const[o,r]of t)s[o]=r;return s},$t={class:"flex items-center justify-center h-6 w-6"},Et={class:"flex items-center justify-center h-6 w-6"},xt={class:"relative"},Lt={"data-fc-type":"dropdown","data-fc-placement":"bottom-end",type:"button",class:"p-2 fc-dropdown"},Vt={class:"flex items-center justify-center h-6 w-6"},At={class:"align-middle"},Dt={class:"relative"},Ct={"data-fc-type":"dropdown","data-fc-placement":"bottom-end",type:"button"},Pt={class:"flex align-middle"},Bt=["src"],Rt={class:"ml-2 text-left my-auto"},Tt={class:"text-sm"},zt={__name:"BaseHeader",setup(e){const{t,locale:s}=N({useScope:"global"}),o=le(),r=q(),l=W(),_=Je(),c=z(()=>r.app),p=z(()=>W().user);Ye(_),z(()=>_.value?"solar:sun-linear":"solar:moon-linear");const u=async g=>{s.value=g,r.setLocale(g)},d=async()=>{await l.logout(),o.replace("/")};return(g,m)=>{const f=Ue,y=Fe,A=Me,D=j("router-link"),P=qe;return h(),C(P,{id:"page-header",class:"flex items-center px-4 gap-3"},{default:i(()=>[a(he,{tag:"button",id:"button-toggle-menu-desktop",action:"sidebarMiniToggle",class:"hidden lg:flex nav-link p-2 me-auto"},{default:i(()=>[n("span",$t,[a(x(B),{icon:"fluent:line-horizontal-3-20-filled",class:"text-2xl"})])]),_:1}),a(he,{tag:"button",id:"button-toggle-menu-mobile",action:"sidebarToggle",class:"flex lg:hidden p-2 nav-link"},{default:i(()=>[n("span",Et,[a(x(B),{icon:"fluent:line-horizontal-3-20-filled",class:"text-2xl"})])]),_:1}),n("div",xt,[a(A,{trigger:"click",onCommand:u},{dropdown:i(()=>[a(y,null,{default:i(()=>[(h(!0),E(Q,null,ne(c.value.locales,(O,v)=>(h(),C(f,{key:v,command:O.language,class:"flex items-center gap-2.5 py-2 px-3"},{default:i(()=>[a(x(B),{icon:`circle-flags:lang-${O.language}`,class:"h-4 w-6"},null,8,["icon"]),n("span",At,b(O.name),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:i(()=>[n("button",Lt,[n("span",Vt,[a(x(B),{icon:`circle-flags:lang-${x(s)}`,class:"text-2xl"},null,8,["icon"])])])]),_:1})]),n("div",Dt,[p.value?(h(),C(A,{key:0,trigger:"click"},{dropdown:i(()=>[a(y,{class:"w-44 p-2 rounded-md"},{default:i(()=>[a(f,{class:"rounded"},{default:i(()=>[a(D,{to:"/profile",class:"flex align-middle"},{default:i(()=>[a(x(B),{icon:"hugeicons:user-square",class:"me-3.5 w-5",width:"24",height:"24"}),n("div",null,b(g.$t("common.profile")),1)]),_:1})]),_:1}),a(f,{class:"rounded"},{default:i(()=>[a(D,{to:"/profile/password",class:"flex align-middle"},{default:i(()=>[a(x(B),{icon:"hugeicons:lock-password",class:"me-3.5 w-5",width:"24",height:"24"}),n("div",null,b(g.$t("common.password")),1)]),_:1})]),_:1}),a(f,{onClick:Z(d,["prevent"]),class:"rounded flex align-middle"},{default:i(()=>[a(x(B),{icon:"hugeicons:logout-03",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(g.$t("common.logout")),1)]),_:1})]),_:1})]),default:i(()=>[n("button",Ct,[n("div",Pt,[n("img",{src:p.value.image_url,alt:"user-image",class:"rounded-md h-8"},null,8,Bt),n("div",Rt,[n("div",null,b(p.value.name),1),n("div",Tt,b(p.value.email),1)])])])]),_:1})):T("",!0)])]),_:1})}}},St=ae(zt,[["__scopeId","data-v-cb2bef58"]]),It={name:"BaseLayout",components:{BaseSidebar:kt,BaseHeader:St},data(){return{appBase:q()}},computed:{classContainer(){return{"sidebar-r":this.appBase.layout.sidebar&&!this.appBase.settings.sidebarLeft,"sidebar-mini":this.appBase.layout.sidebar&&this.appBase.settings.sidebarMini,"sidebar-o":this.appBase.layout.sidebar&&this.appBase.settings.sidebarVisibleDesktop,"sidebar-o-xs":this.appBase.layout.sidebar&&this.appBase.settings.sidebarVisibleMobile,"sidebar-dark":this.appBase.layout.sidebar&&this.appBase.settings.sidebarDark,"side-overlay-o":this.appBase.layout.sideOverlay&&this.appBase.settings.sideOverlayVisible,"side-overlay-hover":this.appBase.layout.sideOverlay&&this.appBase.settings.sideOverlayHoverable,"enable-page-overlay":this.appBase.layout.sideOverlay&&this.appBase.settings.pageOverlay,"page-header-fixed":this.appBase.layout.header&&this.appBase.settings.headerFixed,"page-header-dark":this.appBase.layout.header&&this.appBase.settings.headerDark,"main-content-boxed":this.appBase.settings.mainContent==="boxed","main-content-narrow":this.appBase.settings.mainContent==="narrow","rtl-support":this.appBase.settings.rtlSupport,"side-trans-enabled":this.appBase.settings.sideTransitions,"side-scroll":!0}}}},Ot={id:"page-container"};function jt(e,t,s,o,r,l){const _=j("base-sidebar"),c=j("base-header");return h(),E("div",{id:"page-wrapper",class:F(l.classContainer)},[a(_),a(c),n("main",Ot,[ie(e.$slots,"default")])],2)}const fe=ae(It,[["render",jt]]),Mt={},Ft={class:"dark:from-gray-700 dark:via-gray-900 dark:to-black"},Ut={class:"h-screen w-screen flex justify-center items-center"};function qt(e,t){return h(),E("div",Ft,[n("div",Ut,[ie(e.$slots,"default")])])}const Ht=ae(Mt,[["render",qt]]),Wt={key:0,class:"loading-screen"},Nt={__name:"App",setup(e){const t=q(),s=ke(),o=z(()=>new Map([["BaseLayout",fe],["GuestLayout",Ht]]).get(`${s.meta.layout||"Base"}Layout`)||fe);M(async()=>{localStorage.setItem("vueuse-color-scheme","light"),document.documentElement.classList.remove("dark"),t.isInitialized||t.initApp()});const r=z(()=>t.loading);return(l,_)=>{const c=He;return r.value?(h(),E("div",Wt,_[0]||(_[0]=[n("div",{class:"spinner"},null,-1),n("p",null,"Loading, please wait...",-1)]))):(h(),C(c,{key:1},{default:i(()=>[x(s)?(h(),C(ye(o.value),{key:0},{default:i(()=>[a(x(Re))]),_:1})):T("",!0)]),_:1}))}}},Gt=ae(Nt,[["__scopeId","data-v-db5f206f"]]),Jt="modulepreload",Yt=function(e){return"/build/"+e},ve={},$=function(t,s,o){let r=Promise.resolve();if(s&&s.length>0){let _=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=_(s.map(u=>{if(u=Yt(u),u in ve)return;ve[u]=!0;const d=u.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Jt,d||(m.as="script"),m.crossOrigin="",m.href=u,p&&m.setAttribute("nonce",p),document.head.appendChild(m),d)return new Promise((f,y)=>{m.addEventListener("load",f),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(_){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=_,window.dispatchEvent(c),!c.defaultPrevented)throw _}return r.then(_=>{for(const c of _||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})},Xt=async(e,t,s)=>{const o=W(),{can:r}=re(),_=["login","register","forgot-password"].includes(e.name);if(!o.isLoggedIn)if(_){s();return}else{s({name:"login"});return}if(o.isLoggedIn&&_){s({name:"dashboard",query:{"redirect-reason":"already logged"}});return}if(!o.user)try{await o.getUser()}catch(c){console.error("Failed to fetch user data:",c),await o.logout(),s({name:"login"});return}if(e.meta.permission){const[c,p]=e.meta.permission.split(".");if(!r(p,c)){s({name:"forbidden"});return}}s()};function oe(){const e=q(),t=w(""),s=z(()=>t.value?`${t.value} | ${e.app.app_name}`:e.app.app_name);xe(s);function o(r){t.value=r}return{setTitle:o}}const Kt={class:"card-header"},Qt={__name:"EmployeeDeptChart",setup(e){se.register(Xe,Ke,Qe,Ze,Le,Ve);const t=w(null),s=w(!1),o={labels:[],datasets:[{label:"Jumlah Karyawan",backgroundColor:"#42b983",data:[]}]},r={responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{grid:{display:!0},ticks:{backdropPadding:30}}}};async function l(){s.value=!0;try{const c=(await axios.get("/employee-stats/department")).data;o.labels=c.map(p=>p.department),o.datasets[0].data=c.map(p=>p.total)}catch(_){console.error("Gagal mengambil data statistik karyawan:",_)}s.value=!1}return M(async()=>{await l(),new se(t.value,{type:"bar",data:o,options:r})}),(_,c)=>{const p=U,u=Y;return J((h(),C(p,{class:"shadow-sm sm:rounded-lg","body-class":"p-2"},{header:i(()=>[n("div",Kt,[n("span",null,b(_.$t("employee.employee_by_dept")),1)])]),default:i(()=>[n("canvas",{ref_key:"chartCanvas",ref:t,class:"!h-[280px]"},null,512)]),_:1})),[[u,s.value]])}}},Zt={class:"card-header"},es={class:"p-2 flex-fill border-r border-b"},ts={class:"text-sm mb-0"},ss={class:"text-lg"},as={__name:"EmployeeStatusChart",setup(e){se.register(et,tt,Le,Ve);const{t}=N(),s=w(null),o=w(!1),r=w([]),l={labels:[],datasets:[{label:"Jumlah Karyawan",backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"],data:[]}]},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"},tooltip:{enabled:!0}}};async function c(){o.value=!0;try{const u=(await axios.get("/employee-stats/status")).data;r.value=u,l.labels=u.filter(d=>d.status!=="Undefined").map(d=>t(`employee.${d.status}`)),l.datasets[0].data=u.map(d=>d.total)}catch(p){console.error("Gagal mengambil data statistik karyawan:",p)}o.value=!1}return M(async()=>{await c(),new se(s.value,{type:"doughnut",data:l,options:_})}),(p,u)=>{const d=K,g=X,m=U,f=Y;return J((h(),C(m,{class:"shadow-sm sm:rounded-lg","body-class":"p-0"},{header:i(()=>[n("div",Zt,[n("span",null,b(p.$t("employee.employee_by_status")),1)])]),default:i(()=>[a(g,{gutter:20},{default:i(()=>[a(d,{md:12},{default:i(()=>[n("canvas",{ref_key:"chartCanvas",ref:s,class:"!h-[190px] p-2"},null,512)]),_:1}),a(d,{md:12},{default:i(()=>[a(g,{class:"border-l"},{default:i(()=>[(h(!0),E(Q,null,ne(r.value,(y,A)=>(h(),C(d,{md:12,key:A},{default:i(()=>[n("div",es,[n("div",ts,[R(b(y.status==="Undefined"?y.status:p.$t(`employee.${y.status}`))+" ",1),u[0]||(u[0]=n("span",{class:"text-gray-9"},"(48%)",-1))]),n("h2",ss,b(y.total),1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})),[[f,o.value]])}}},os={class:"flex justify-center"},ns={__name:"DepartmentTree",setup(e){const t=w(!1),s=w({name:"PT Pakarti Tirtoagung",id:0,children:[]}),o=async()=>{t.value=!0;try{const r=await axios.get("/settings/department",{params:{tree:!0}});s.value.children=r.data}catch(r){console.error("Gagal mengambil data statistik karyawan:",r)}t.value=!1};return M(async()=>{await o()}),(r,l)=>{const _=j("blocks-tree"),c=U,p=Y;return J((h(),C(c,{class:"shadow-sm sm:rounded-lg","body-class":"p-2"},{header:i(()=>[R(b(r.$t("employee.org_structure")),1)]),default:i(()=>[n("div",os,[a(_,{data:s.value,horizontal:!1,collapsable:!1,props:{label:"name",children:"children",key:"id"}},null,8,["data"])])]),_:1})),[[p,t.value]])}}},is={class:"content"},ls={class:"content-header"},rs={class:"mt-auto mb-0"},cs={class:"text-lg font-semibold"},ds={__name:"Dashboard",setup(e){const{t}=N(),{setTitle:s}=oe(),{can:o}=re();return M(()=>{s(t("base.dashboard"))}),(r,l)=>{const _=K,c=X;return h(),E("div",is,[n("div",ls,[n("div",rs,[n("div",cs,b(r.$t("base.dashboard",2)),1)]),l[0]||(l[0]=n("div",{class:"mt-auto mb-0"},null,-1))]),a(c,{gutter:20},{default:i(()=>[x(o)("department_stats","dashboard")?(h(),C(_,{key:0,md:24},{default:i(()=>[a(Qt,{class:"mb-5"})]),_:1})):T("",!0),x(o)("status_stats","dashboard")?(h(),C(_,{key:1,md:24},{default:i(()=>[a(as,{class:"mb-5"})]),_:1})):T("",!0),a(_,{md:24},{default:i(()=>[a(ns,{class:"mb-5"})]),_:1})]),_:1})])}}},us={class:"content"},ms={class:"content-header"},ps={class:"content-title"},_s={class:"md:flex hidden items-center gap-2.5 text-sm font-semibold"},gs={class:"space-y-2"},hs={__name:"Index",setup(e){const t=w(""),s=W(),o=z(()=>s.user),r=l=>{t.value=l};return(l,_)=>{const c=Ee,p=$e,u=j("router-link"),d=U,g=K,m=j("router-view"),f=X;return h(),E("div",us,[n("div",ms,[n("h2",ps,b(t.value),1),n("div",_s,[a(p,{separator:"/"},{default:i(()=>[a(c,{to:{path:"/"}},{default:i(()=>[R(b(l.$t("base.dashboard")),1)]),_:1}),a(c,null,{default:i(()=>[R(b(l.$t("base.profile")),1)]),_:1})]),_:1})])]),a(f,{gutter:20},{default:i(()=>[a(g,{lg:5},{default:i(()=>[a(d,{class:"shadow-sm sm:rounded-lg","body-class":"p-2"},{default:i(()=>[n("div",gs,[a(u,{to:"/profile",exactActiveClass:"text-gray-500 bg-slate-100",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300"},{default:i(()=>[a(x(B),{icon:"hugeicons:user-square",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(l.$t("common.profile")),1)]),_:1}),a(u,{to:"/profile/password",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300",exactActiveClass:"text-gray-500 bg-slate-100"},{default:i(()=>[a(x(B),{icon:"hugeicons:lock-password",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(l.$t("common.password")),1)]),_:1}),a(u,{to:"/profile/devices",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300",exactActiveClass:"text-gray-500 bg-slate-100"},{default:i(()=>[a(x(B),{icon:"hugeicons:computer-phone-sync",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(l.$t("common.device",2)),1)]),_:1}),o.value.employee_id?(h(),C(u,{key:0,to:"/profile/additional",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300",exactActiveClass:"text-gray-500 bg-slate-100"},{default:i(()=>[a(x(B),{icon:"hugeicons:node-add",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(l.$t("employee.additional_data")),1)]),_:1})):T("",!0)])]),_:1})]),_:1}),a(g,{lg:19},{default:i(()=>[a(m,{onChildinit:r})]),_:1})]),_:1})])}}},fs={class:"twitter-navigation"},vs={class:"twitter-navigation__wrapper"},bs={class:"twitter-navigation__line"},ys={__name:"CropperNavigate",props:{zoom:{type:Number,default:0}},emits:["change"],setup(e,{emit:t}){const s=w(!1),o=w(null),r=t;function l(p){if(s.value){const u=p.touches?p.touches[0].clientX:p.clientX,{left:d,width:g}=o.value.getBoundingClientRect();r("change",Math.min(1,Math.max(0,(u-d)/g))),p.preventDefault&&p.preventDefault()}}function _(){s.value=!1}function c(p){s.value=!0,l(p)}return M(()=>{window.addEventListener("mouseup",_,{passive:!1}),window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1}),window.addEventListener("touchend",_,{passive:!1})}),Ce(()=>{window.removeEventListener("mouseup",_),window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("touchend",_)}),(p,u)=>(h(),E("div",fs,[n("div",vs,[u[0]||(u[0]=n("div",{class:"twitter-navigation__zoom-icon twitter-navigation__zoom-icon--left"},[n("svg",{viewBox:"0 0 24 24",class:"icon-class"},[n("g",null,[n("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"}),n("path",{d:"M14.46 11.75H7.54c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h6.92c.415 0 .75.336.75.75s-.335.75-.75.75z"})])])],-1)),n("div",{class:"twitter-navigation__line-wrapper",ref_key:"line",ref:o,onMousedown:c,onTouchstart:c},[n("div",bs,[n("div",{class:"twitter-navigation__fill",style:pe({flexGrow:e.zoom})},null,4),n("div",{class:F(["twitter-navigation__circle",{"twitter-navigation__circle--focus":s.value}]),style:pe({left:`${e.zoom*100}%`})},[n("div",{class:F(["twitter-navigation__inner-circle",{"twitter-navigation__inner-circle--focus":s.value}])},null,2)],6)])],544),u[1]||(u[1]=n("div",{class:"twitter-navigation__zoom-icon twitter-navigation__zoom-icon--right"},[n("svg",{viewBox:"0 0 24 24",class:"icon-class"},[n("g",null,[n("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"}),n("path",{d:"M15.21 11c0 .41-.34.75-.75.75h-2.71v2.71c0 .41-.34.75-.75.75s-.75-.34-.75-.75v-2.71H7.54c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h2.71V7.54c0-.41.34-.75.75-.75s.75.34.75.75v2.71h2.71c.41 0 .75.34.75.75z"})])])],-1))])]))}},ws={key:0,class:"img-upload__wrapper"},ks=["src"],$s={class:"img-upload__actions"},Es={key:1,class:"img-upload__wrapper"},xs={class:"img-upload__wrapper__input"},Ls={class:"dialog-footer"},Vs={__name:"ImageUpload",props:{size:{type:String,default:""},ratio:{type:String,default:"1/1"},cropper:{type:Boolean,default:!0},modelValue:{type:[String,File]}},emits:["update:modelValue","deleted"],setup(e,{emit:t}){const s=e,o=w(null),r=w(s.modelValue),l=w(""),_=w(""),c=w(!1),p=w(0),u=w(null);be(()=>s.modelValue,v=>{v instanceof File||(r.value=v)});const d=t;M(()=>{(typeof s.modelValue=="string"||s.modelValue instanceof String)&&(r.value=s.modelValue)});const g=v=>{const k=v.target.files[0];if(!k.type.includes("image/")){alert("Please select an image file");return}if(typeof FileReader=="function"){const L=new FileReader;L.onload=S=>{o.value=S.target.result},L.readAsDataURL(k)}else alert("Sorry, FileReader API not supported");l.value=k.name,_.value=k.type,s.cropper?c.value=!0:(r.value=URL.createObjectURL(k),d("update:modelValue",k))},m=()=>{d("deleted",r.value),r.value=null,d("update:modelValue",r.value)},f=v=>{const{coordinates:k,imageSize:L}=u.value;L.width/L.height>k.width/k.height?p.value=(L.height-k.height)/(L.height-u.value.sizeRestrictions.minHeight):p.value=(L.width-k.width)/(L.width-u.value.sizeRestrictions.minWidth)},y=({imageSize:v})=>({width:Math.min(v.height,v.width),height:Math.min(v.height,v.width)}),A=({boundaries:v})=>({width:Math.min(v.height,v.width)-48,height:Math.min(v.height,v.width)-48}),D=v=>{const{sizeRestrictions:k,imageSize:L}=u.value;if(L.height<L.width){const S=k.minHeight,V=L.height;u.value.zoom((V-p.value*(V-S))/(V-v*(V-S)))}else{const S=k.minWidth,V=L.width;u.value.zoom((V-p.value*(V-S))/(V-v*(V-S)))}},P=async(v,k,L)=>{const V=await(await fetch(v)).blob();return new File([V],k,{type:L})},O=async()=>{const{canvas:v}=u.value.getResult();r.value=v.toDataURL();const k=await P(v.toDataURL(),l.value,_.value);d("update:modelValue",k),c.value=!1};return(v,k)=>{const L=ee,S=We;return h(),E("div",{class:F(["img-upload",[e.size?"img-upload--"+e.size:""]])},[r.value?(h(),E("div",ws,[n("img",{src:r.value,class:"w-full h-full object-fit"},null,8,ks),n("div",$s,[n("button",{type:"button",onClick:m,class:"flex items-center me-2 justify-center w-8 h-8 bg-red-400 rounded-lg"},[a(x(B),{icon:"mingcute:close-fill"})])])])):(h(),E("div",Es,[n("div",xs,[n("input",{type:"file",name:"image",accept:"image/*",onChange:g,class:"absolute w-full h-full opacity-0 cursor-pointer"},null,32),k[2]||(k[2]=n("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",class:"w-6 h-6 text-gray-600",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z"})],-1))])])),a(S,{modelValue:c.value,"onUpdate:modelValue":k[1]||(k[1]=V=>c.value=V),title:v.$t("common.adjust_image"),style:{width:"450px"},center:""},{footer:i(()=>[n("span",Ls,[a(L,{onClick:k[0]||(k[0]=V=>c.value=!1)},{default:i(()=>[a(x(B),{icon:"mingcute:close-fill",class:"me-2"}),R(" "+b(v.$t("common.cancel")),1)]),_:1}),a(L,{type:"primary",onClick:O},{default:i(()=>[a(x(B),{icon:"mingcute:check-fill",class:"me-2"}),R(" "+b(v.$t("common.save")),1)]),_:1})])]),default:i(()=>[a(x(st),{ref_key:"cropper",ref:u,class:"twitter-cropper","background-class":"twitter-cropper__background","foreground-class":"twitter-cropper__foreground","image-restriction":"stencil","stencil-size":A,"stencil-props":{lines:{},handlers:{},movable:!1,scalable:!1,aspectRatio:1,previewClass:"twitter-cropper__stencil"},transitions:!1,canvas:!0,debounce:!1,"default-size":y,"min-width":150,"min-height":150,src:o.value,onChange:f},null,8,["src"]),a(ys,{zoom:p.value,onChange:D},null,8,["zoom"])]),_:1},8,["modelValue","title"])],2)}}},De=()=>({formatDate:s=>{const o=q(),r=o.app.date_format||"YYYY-MM-DD",l=o.app.time_format||"HH:mm:ss",c=te(s).hour()||te(s).minute()||te(s).second()?`${r} ${l}`:r;return te(s).format(c)},objectToFormData:s=>{const o=new FormData;for(const r in s){const l=s[r];Array.isArray(l)?r==="images"&&l.every(_=>_ instanceof File)?l.forEach((_,c)=>{o.append(`${r}[${c}]`,_)}):o.append(r,JSON.stringify(l)):l instanceof File?o.append(r,l):typeof l=="object"&&l!==null?o.append(r,JSON.stringify(l)):l!=null&&l!=="null"?o.append(r,l):(l==null||l=="null")&&o.append(r,"")}return o}}),As={class:"text-left"},Ds={__name:"Edit",emits:["childinit"],setup(e,{emit:t}){const{objectToFormData:s}=De(),{t:o}=N(),{setTitle:r}=oe(),l=W(),_=t,c=z(()=>l.user),p=w(null),u=w(!1),d=w({name:null,email:null,image:null}),g=w({name:[{required:!0,message:o("validation.required",{attribute:o("common.name")}),trigger:"blur"}],email:[{required:!0,message:o("validation.required",{attribute:o("common.email")}),trigger:"blur"}],image:[{required:!0,message:o("validation.required",{attribute:o("common.image")}),trigger:"blur"}]}),m=async()=>{p.value&&p.value.validate(async f=>{if(f)try{u.value=!0,await axios({method:"post",url:"/profile/update",data:s(d.value),headers:{"Content-Type":"multipart/form-data"}}),l.getUser(),H({message:o("message.success_save"),type:"success"}),u.value=!1}catch(y){console.log("Form Error:",y),u.value=!1,H({message:o("message.error_server"),type:"error"})}else H({message:o("message.error_input"),type:"error"})})};return M(()=>{_("childinit","Edit Profile"),r("Edit Profile"),d.value.name=c.value.name,d.value.email=c.value.email,d.value.image=c.value.image}),(f,y)=>{const A=ue,D=de,P=K,O=X,v=ee,k=ce,L=U,S=Y;return J((h(),C(L,{class:"shadow-sm sm:rounded-lg"},{default:i(()=>[a(k,{ref_key:"formRef",ref:p,model:d.value,rules:g.value,onSubmit:Z(m,["prevent"]),"label-position":"top"},{default:i(()=>[a(O,{gutter:20},{default:i(()=>[a(P,{md:16},{default:i(()=>[a(D,{label:f.$t("common.name"),prop:"name"},{default:i(()=>[a(A,{modelValue:d.value.name,"onUpdate:modelValue":y[0]||(y[0]=V=>d.value.name=V)},null,8,["modelValue"])]),_:1},8,["label"]),a(D,{label:f.$t("common.email"),prop:"email"},{default:i(()=>[a(A,{modelValue:d.value.email,"onUpdate:modelValue":y[1]||(y[1]=V=>d.value.email=V)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(P,{md:8},{default:i(()=>[a(D,{label:f.$t("common.image"),prop:"image"},{default:i(()=>[a(Vs,{modelValue:d.value.image,"onUpdate:modelValue":y[2]||(y[2]=V=>d.value.image=V),size:"small"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),n("div",As,[a(v,{"native-type":"submit",type:"primary"},{default:i(()=>[R(b(f.$t("common.save")),1)]),_:1})])]),_:1},8,["model","rules"])]),_:1})),[[S,u.value]])}}},Cs={class:""},Ps={__name:"Password",props:{title:{type:String,default:""}},emits:["childinit"],setup(e,{emit:t}){const{t:s}=N(),{setTitle:o}=oe(),r=t,l=w({old_password:null,new_password:null,password_confirmation:null}),_=w({}),c=w(!1),p=async()=>{c.value=!0;const u="/profile/password";try{const d=await axios.post(u,l.value);H({message:s("success_msg"),type:"success"})}catch(d){_.value=d.validation,H({message:s("error_msg"),type:"error"})}finally{c.value=!1}};return M(()=>{r("childinit","Edit Password"),o("Edit Password")}),(u,d)=>{const g=ue,m=de,f=K,y=X,A=ee,D=ce,P=U,O=Y;return J((h(),C(P,{class:"shadow-sm sm:rounded-lg"},{default:i(()=>[a(D,{model:l.value,onSubmit:Z(p,["prevent"]),"label-position":"top"},{default:i(()=>[a(y,{gutter:20},{default:i(()=>[a(f,{md:12},{default:i(()=>[a(m,{label:u.$t("common.old_password"),error:_.value.old_password},{default:i(()=>[a(g,{modelValue:l.value.old_password,"onUpdate:modelValue":d[0]||(d[0]=v=>l.value.old_password=v),type:"password","show-password":"",clearable:""},null,8,["modelValue"])]),_:1},8,["label","error"]),a(m,{label:u.$t("common.new_password"),error:_.value.new_password},{default:i(()=>[a(g,{modelValue:l.value.new_password,"onUpdate:modelValue":d[1]||(d[1]=v=>l.value.new_password=v),type:"password","show-password":"",clearable:""},null,8,["modelValue"])]),_:1},8,["label","error"]),a(m,{label:u.$t("common.new_password_confirmation"),error:_.value.password_confirmation},{default:i(()=>[a(g,{modelValue:l.value.password_confirmation,"onUpdate:modelValue":d[2]||(d[2]=v=>l.value.password_confirmation=v),type:"password","show-password":"",clearable:""},null,8,["modelValue"])]),_:1},8,["label","error"])]),_:1})]),_:1}),n("div",Cs,[a(A,{"native-type":"submit",type:"primary"},{default:i(()=>[R(b(u.$t("common.save")),1)]),_:1})])]),_:1},8,["model"])]),_:1})),[[O,c.value]])}}},Bs={class:"font-semibold"},Rs={class:"font-medium text-sm"},Ts={__name:"Device",emits:["childinit"],setup(e,{emit:t}){const{t:s}=N(),{formatDate:o}=De(),r=t,{setTitle:l}=oe();w({avatar:null,name:null,username:null,email:null});const _=w({}),c=w(!1),p=w([]),u=async()=>{try{_.value={},c.value=!0;const d=await axios.get("/profile/device");d.status===200&&(p.value=d.data)}catch(d){console.error(d)}finally{c.value=!1}};return M(()=>{l(s("common.device",2)),r("childinit",s("common.device",2)),u()}),(d,g)=>{const m=Ge,f=ee,y=Ne,A=U,D=Y;return J((h(),C(A,{class:"shadow-sm sm:rounded-lg","body-class":"p-0"},{default:i(()=>[J((h(),C(y,{class:"min-w-full sm:rounded-lg",data:p.value},{default:i(()=>[a(m,{prop:"name",label:d.$t("common.device"),"header-align":"center"},{default:i(P=>[n("div",Bs,b(P.row.name),1),n("div",Rs,"IP: "+b(P.row.ip),1)]),_:1},8,["label"]),a(m,{label:d.$t("common.last_access"),"header-align":"center"},{default:i(P=>[R(b(x(o)(P.row.last_used_at)),1)]),_:1},8,["label"]),a(m,{label:d.$t("common.action"),align:"center"},{default:i(P=>[a(f,{type:"primary",disabled:P.row.is},{default:i(()=>[R(b(d.$t("common.disconnect")),1)]),_:2},1032,["disabled"])]),_:1},8,["label"])]),_:1},8,["data"])),[[D,c.value]])]),_:1})),[[D,c.value]])}}},zs={class:"content"},Ss={class:"content-header"},Is={class:"content-title"},Os={class:"md:flex hidden items-center gap-2.5 text-sm font-semibold"},js={class:"space-y-2"},Ms={__name:"Index",setup(e){const t=w(""),s=o=>{t.value=o};return(o,r)=>{const l=Ee,_=$e,c=j("router-link"),p=U,u=K,d=j("router-view"),g=X;return h(),E("div",zs,[n("div",Ss,[n("h2",Is,b(o.$t(`base.${t.value}`)),1),n("div",Os,[a(_,{separator:"/"},{default:i(()=>[a(l,{to:{path:"/"}},{default:i(()=>[R(b(o.$t("base.dashboard")),1)]),_:1}),a(l,{to:{path:"/settings"}},{default:i(()=>[R(b(o.$t("base.setting",2)),1)]),_:1}),a(l,null,{default:i(()=>[R(b(o.$t("base.system")),1)]),_:1})]),_:1})])]),a(g,{gutter:20},{default:i(()=>[a(u,{lg:6},{default:i(()=>[a(p,{class:"shadow-sm sm:rounded-lg","body-class":"p-2"},{default:i(()=>[n("div",js,[a(c,{to:"/settings/system",exactActiveClass:"text-gray-500 bg-slate-100",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300"},{default:i(()=>[r[0]||(r[0]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"me-3.5 w-5",width:"24",height:"24",viewBox:"0 0 24 24"},[n("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",color:"currentColor"},[n("path",{d:"M15.5 12a3.5 3.5 0 1 1-7 0a3.5 3.5 0 0 1 7 0"}),n("path",{d:"M20.79 9.152C21.598 10.542 22 11.237 22 12s-.403 1.458-1.21 2.848l-1.923 3.316c-.803 1.384-1.205 2.076-1.865 2.456s-1.462.38-3.065.38h-3.874c-1.603 0-2.405 0-3.065-.38s-1.062-1.072-1.865-2.456L3.21 14.848C2.403 13.458 2 12.763 2 12s.403-1.458 1.21-2.848l1.923-3.316C5.936 4.452 6.338 3.76 6.998 3.38S8.46 3 10.063 3h3.874c1.603 0 2.405 0 3.065.38s1.062 1.072 1.865 2.456z"})])],-1)),n("span",null,b(o.$t("base.general")),1)]),_:1}),a(c,{to:"/settings/system/email",class:"flex items-center py-2 px-4 text-sm rounded hover:text-slate-700 dark:text-gray-400 dark:bg-gray-700 dark:hover:text-gray-300",exactActiveClass:"text-gray-500 bg-slate-100"},{default:i(()=>[a(x(B),{icon:"hugeicons:mail-setting-01",class:"me-3.5 w-5",width:"24",height:"24"}),n("span",null,b(o.$t("common.email")),1)]),_:1})])]),_:1})]),_:1}),a(u,{lg:18},{default:i(()=>[a(d,{onChildinit:s})]),_:1})]),_:1})])}}},Fs=[{path:"/settings/",children:[{path:"system",name:"settings.system",component:Ms,children:[{path:"",name:"settings.system.general",component:()=>$(()=>import("./General-DKzYSKgm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]))},{path:"email",name:"settings.system.email",component:()=>$(()=>import("./Email-DkCRXnJ0.js"),__vite__mapDeps([29,1,11,12,3,2,4,5,6,7,8,9,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]))}]},{path:"user",children:[{path:"",name:"settings.user.index",component:()=>$(()=>import("./Index-DWRarTB8.js"),__vite__mapDeps([30,1,10,16,31,11,12,32,3,2,4,5,6,7,8,9,23,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))},{path:"create",name:"settings.user.create",component:()=>$(()=>import("./Form-Be3Wo9gO.js"),__vite__mapDeps([33,1,10,3,2,4,5,6,7,8,9,34,23,14,11,12,13,15,16,17,18,19,20,21,22,24,25,26,27,28]))},{path:":id/edit",name:"settings.user.edit",component:()=>$(()=>import("./Form-Be3Wo9gO.js"),__vite__mapDeps([33,1,10,3,2,4,5,6,7,8,9,34,23,14,11,12,13,15,16,17,18,19,20,21,22,24,25,26,27,28]))}]},{path:"permission",children:[{path:"",name:"permission.index",component:()=>$(()=>import("./Index-VJgdkfBp.js"),__vite__mapDeps([35,1,16,31,11,12,3,2,4,5,6,7,8,9]))},{path:"create",name:"permission.create",component:()=>$(()=>import("./Form-D8wd80ZT.js"),__vite__mapDeps([36,1,11,12,14,3,2,4,5,6,7,8,9]))},{path:":id/edit",name:"permission.edit",component:()=>$(()=>import("./Form-D8wd80ZT.js"),__vite__mapDeps([36,1,11,12,14,3,2,4,5,6,7,8,9]))}]},{path:"department",name:"settings.department",component:()=>$(()=>import("./Department-DFdjmUWz.js"),__vite__mapDeps([37,1,10,16,31,11,12,32,3,2,4,5,6,7,8,9,23,38,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))},{path:"job-position",name:"settings.job_position",component:()=>$(()=>import("./JobPosition-B1h0yviu.js"),__vite__mapDeps([39,1,10,16,31,11,12,32,3,2,4,5,6,7,8,9,23,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))},{path:"grade",name:"settings.grade",component:()=>$(()=>import("./Grade-Bq6tU3K8.js"),__vite__mapDeps([40,1,10,16,31,11,12,32,3,2,4,5,6,7,8,9,23,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))},{path:"expertise",name:"settings.expertise",component:()=>$(()=>import("./Expertise-9gZyu7JW.js"),__vite__mapDeps([41,1,10,16,31,11,12,32,3,2,4,5,6,7,8,9,23,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))}]}],Us={class:"2xl:w-1/4 lg:w-1/3 md:w-1/2 w-full"},qs={class:"p-6"},Hs={href:"",class:"block mb-8"},Ws=["src"],Ns=["src"],Gs={__name:"Login",setup(e){const{t}=N();xe(t("common.login"));const s=le(),o=w(null),r=w({email:"",password:""}),l=w({email:[{required:!0,message:t("validation.required",{attribute:t("common.email")}),trigger:"blur"}],password:[{required:!0,message:t("validation.required",{attribute:t("common.password")}),trigger:"blur"}]}),_=w(""),c=w(!1),p=W(),u=q(),d=z(()=>u.app),g=()=>{},m=async()=>{o.value&&o.value.validate(async f=>{var y,A;if(f){c.value=!0;try{await p.login(r.value),H({message:t("message.success_login"),type:"success"}),s.replace("/dashboard")}catch(D){(y=D.validation)!=null&&y.email&&(_.value=(A=D.validation)==null?void 0:A.email),H({message:t("message.error_login"),type:"error"})}finally{c.value=!1}}else H({message:t("message.error_input"),type:"error"})})};return(f,y)=>{const A=ue,D=de,P=ee,O=ce,v=U;return h(),E("div",Us,[a(v,{class:"overflow-hidden sm:rounded-md rounded-none"},{default:i(()=>[n("div",qs,[n("a",Hs,[n("img",{class:"w-full block dark:hidden",src:d.value.logo_light,alt:""},null,8,Ws),n("img",{class:"w-full hidden dark:block",src:d.value.logo_dark,alt:""},null,8,Ns)]),a(O,{ref_key:"formRef",ref:o,model:r.value,rules:l.value,"label-position":"top",onSubmit:Z(m,["prevent"])},{default:i(()=>[a(D,{label:f.$t("common.email"),prop:"email",error:_.value},{default:i(()=>[a(A,{modelValue:r.value.email,"onUpdate:modelValue":y[0]||(y[0]=k=>r.value.email=k),type:"text",onInput:g},null,8,["modelValue"])]),_:1},8,["label","error"]),a(D,{label:f.$t("common.password"),prop:"password"},{default:i(()=>[a(A,{modelValue:r.value.password,"onUpdate:modelValue":y[1]||(y[1]=k=>r.value.password=k),type:"password","show-password":""},null,8,["modelValue"])]),_:1},8,["label"]),a(P,{"native-type":"submit",type:"primary",class:"w-full",loading:c.value},{default:i(()=>[R(b(f.$t("common.login")),1)]),_:1},8,["loading"])]),_:1},8,["model","rules"])])]),_:1})])}}},Js=[],me=Te({history:ze("/"),routes:[{name:"login",path:"/",component:Gs,meta:{layout:"Guest"}},{path:"/dashboard",name:"dashboard",component:ds,meta:{requiredAuth:!0}},{path:"/profile/",name:"profile",component:hs,children:[{path:"",name:"profile.edit",component:Ds},{path:"password",name:"profile.password",component:Ps},{path:"devices",name:"profile.device",component:Ts},{path:"additional",name:"profile.additional",component:()=>$(()=>import("./Additional-CGXTl7aD.js"),__vite__mapDeps([42,11,12,1,43,10,16,31,32,3,2,4,5,6,7,8,9,23,13,14,15,17,18,19,20,21,22,24,25,26,27,28]))}],meta:{requiredAuth:!0}},...Js,{path:"/employee",children:[{path:"",name:"employee.index",component:()=>$(()=>import("./Index-O2UZqZdl.js"),__vite__mapDeps([44,1,10,16,31,32,3,2,4,5,6,7,8,9,23,11,12,45,38,34,17,18,13,14,15,19,20,21,22,24,25,26,27,28,46])),meta:{requiredAuth:!0,permission:"employee.view"}},{path:"create",name:"employee.create",component:()=>$(()=>import("./Form-le_dxNdC.js"),__vite__mapDeps([47,1,16,14,11,12,45,10,23,3,2,4,5,6,7,8,9,38,34,13,15,17,18,19,20,21,22,24,25,26,27,28])),meta:{requiredAuth:!0,permission:"employee.create"}},{path:":id",name:"employee.show",component:()=>$(()=>import("./Show-9kFZg_Rv.js"),__vite__mapDeps([48,16,1,14,11,12,23,19,43,10,31,32,3,2,4,5,6,7,8,9,17,18,13,15,20,21,22,24,25,26,27,28])),meta:{requiredAuth:!0,permission:"employee.view"}},{path:":id/edit",name:"employee.edit",component:()=>$(()=>import("./Form-le_dxNdC.js"),__vite__mapDeps([47,1,16,14,11,12,45,10,23,3,2,4,5,6,7,8,9,38,34,13,15,17,18,19,20,21,22,24,25,26,27,28])),meta:{requiredAuth:!0,permission:"employee.update"}}]},...Fs,{path:"/403",name:"forbidden",component:()=>$(()=>import("./Forbidden-B51gG28V.js"),__vite__mapDeps([49,1,10,13,14,15,16,11,12,17,18,3,2,4,5,6,7,8,9,19,20,21,22,23,24,25,26,27,28])),meta:{layout:"Guest"}},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>$(()=>import("./NotFound-D7q1SBkN.js"),__vite__mapDeps([50,1,10,13,14,15,16,11,12,17,18,3,2,4,5,6,7,8,9,19,20,21,22,23,24,25,26,27,28])),meta:{layout:"Guest"}}]});me.beforeEach(Xt);I.defaults.baseURL="/api/";I.interceptors.request.use(e=>{const t=W();return t.token?e.headers.Authorization=`Bearer ${t.token}`:e.headers.Authorization="",e});I.interceptors.response.use(function(e){return e},function(e){var s,o;const t={status:(s=e.response)==null?void 0:s.status,original:e,validation:{},message:null};switch((o=e.response)==null?void 0:o.status){case 422:for(let r in e.response.data.result)t.validation[r]=e.response.data.result[r][0];break;case 403:t.message="You're not allowed to do that.";break;case 401:t.message="Please re-login.";break;case 404:me.push({name:"not-found"});break;case 500:t.message="Something went really bad. Sorry.";break;default:t.message="Something went wrong. Please try again later."}return Promise.reject(t)});async function Ys(e,t){const s={},l={...Object.assign({"/resources/js/lang/en/base.json":()=>$(()=>import("./base-BIFuOsHW.js"),[]),"/resources/js/lang/en/common.json":()=>$(()=>import("./common-C_xzSJPN.js"),[]),"/resources/js/lang/en/employee.json":()=>$(()=>import("./employee-Cwcu45oQ.js"),[]),"/resources/js/lang/en/message.json":()=>$(()=>import("./message-Bt47TzFU.js"),[]),"/resources/js/lang/en/setting.json":()=>$(()=>import("./setting-B-0TqGqS.js"),[]),"/resources/js/lang/en/validation.json":()=>$(()=>import("./validation-DeyiHVhy.js"),[]),"/resources/js/lang/id/base.json":()=>$(()=>import("./base-D6yVc0dO.js"),[]),"/resources/js/lang/id/common.json":()=>$(()=>import("./common--4tCo565.js"),[]),"/resources/js/lang/id/employee.json":()=>$(()=>import("./employee-P-1Qf8Es.js"),[]),"/resources/js/lang/id/message.json":()=>$(()=>import("./message-C6u3Si9Y.js"),[]),"/resources/js/lang/id/setting.json":()=>$(()=>import("./setting-CYokkdWs.js"),[]),"/resources/js/lang/id/validation.json":()=>$(()=>import("./validation-CsmILQWW.js"),[])}),...Object.assign({})};for(const _ of t){s[_]=s[_]||{};for(const[c,p]of Object.entries(l)){const u=c.match(new RegExp(`${e}/(\\w+)/(.+?)\\.json`));if(u){const[d,g,m]=u;if(g===_){const f=await p();s[_][m]=f.default||f}}}}return s}async function Xs(){const e=window.config.locale||"en",s=await Ys("/resources/js/lang",["en","id"]);return Se({legacy:!1,locale:e,fallbackLocale:"en",messages:s})}(async()=>{const e=await Xs(),t=Pe(Gt);t.use(Be()),t.use(me),t.use(nt),t.use(e),t.use(at),t.use(Oe,Ae),t.use(ot,{treeName:"blocks-tree"}),t.mount("#app")})();export{ae as _,W as a,De as b,Vs as c,q as d,oe as u};
